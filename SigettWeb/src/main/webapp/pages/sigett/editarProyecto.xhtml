<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>
        <ui:composition template="./principal.xhtml">
            <ui:define name="title"><h:outputText value="#{msg['lbl.editar']} #{msg['lbl.proyecto']}"/></ui:define>
            <ui:define name="content">
                <p:growl id="msm" showDetail="true" /> 
                <p:tabView  id="tabViewDatosProyecto" >
                    <p:ajax event="tabChange" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update="datosProyecto,dgConfiguraciones,tblAutores,buscarAspirantes,tblDocentesProyecto,opcionesDocente,tblDirectores,opcionesDirector,tblProrrogas,crearProrroga,duracion,
                            fechaProrroga,fechaInicio,fechaFin,:contenido:msm,:editarAutor,:editarDocumentoExpediente,:dlgEditarDocumentoExpediente,:oficioDocenteProyecto,
                            :oficioDirectorProyecto,crearTribunal,dgTribunales,lineasInvestigacion" listener="#{administrarProyectos.onTabChange}"/>
                    <p:tab id="tabDatosInicio" title="#{msg['lbl.informacion']} #{msg['lbl.inicio']}" >
                        <p:panel header="#{msg['lbl.informacion']}" toggleable="true">
                            <h:panelGrid id="datosProyecto" styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-3,col-sm-8,col-sm-1" columns="3">
                                <h:outputLabel value="#{msg['lbl.tema']}:" for="tema" />
                                <p:inputTextarea id="tema" required="true"  rendered="#{administrarProyectos.renderedEditarDatosProyecto}" requiredMessage="#{msg['lbl.tema']} #{msg['lbl.obligatorio']}" value="#{sessionTemaProyecto.temaProyecto.temaId.nombre}">
                                    <p:ajax event="keyup" update="@this"/>
                                    <p:ajax event="change" update="msmTema"/>
                                </p:inputTextarea>
                                <h:outputText rendered="#{administrarProyectos.renderedEditarDatosProyecto==false}" value="#{sessionTemaProyecto.temaProyecto.temaId.nombre}"/>
                                <p:message id="msmTema" display="icon" for="tema"/>
                                <h:outputLabel  value="#{msg['lbl.fecha']} #{msg['lbl.inicio']}"/>
                                <p:calendar id="fechaInicio" navigator="true" pattern="dd/MM/yyyy"  rendered="#{administrarCronograma.renderedEditarDatosCronograma}"  locale="es" placeholder="#{msg['lbl.fecha']} #{msg['lbl.inicio']}" required="true"  requiredMessage="#{msg['lbl.fecha']} #{msg['lbl.inicio']} #{msg['lbl.obligatorio']}"  title="#{msg['lbl.fecha']} #{msg['lbl.inicio']}" value="#{sessionProyecto.proyecto.cronograma.fechaInicio}">
                                    <p:ajax event="dateSelect" update="msmFechaInicio" listener="#{administrarCronograma.setFechaInicio(sessionProyecto.proyecto.cronograma)}"/>
                                    <f:param  name="2" value="agregar-cronograma"/>
                                    <p:ajax event="dateSelect" update="fechaInicio,fechaProrroga,duracion,:contenido:msm,:contenido:tabViewDatosProyecto:tblDirectores,:contenido:tabViewDatosProyecto:tblAutores" listener="#{administrarCronograma.editarCronograma(sessionProyecto.proyecto.cronograma)}"/>         
                                </p:calendar>
                                <h:outputText rendered="#{administrarCronograma.renderedNoEditarDatosCronograma}" value="#{sessionProyecto.proyecto.cronograma.fechaInicio}">
                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                </h:outputText>
                                <p:message id="msmFechaInicio" display="icon" for="fechaInicio"/>
                                <h:outputLabel value="#{msg['lbl.fechaCulminación']}"/>
                                <p:calendar  pattern="dd/MM/yyyy" navigator="true" rendered="#{administrarCronograma.renderedEditarDatosCronograma}" id="fechaFin" locale="es"   placeholder="#{msg['lbl.fechaCulminación']}" title="#{msg['lbl.fechaCulminación']}"  required="true" requiredMessage="#{msg['lbl.fechaCulminación']} #{msg['lbl.obligatorio']}" value="#{sessionProyecto.proyecto.cronograma.fechaFin}">
                                    <f:param  name="2" value="agregar-cronograma"/>
                                    <p:ajax event="dateSelect" update=":contenido:msm,fechaInicio,fechaFin,fechaProrroga,duracion,,:contenido:msm,:contenido:tabViewDatosProyecto:tblDirectores,:contenido:tabViewDatosProyecto:tblAutores" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarCronograma.editarCronograma(sessionProyecto.proyecto.cronograma)}"/> 
                                </p:calendar>
                                <h:outputText value="#{sessionProyecto.proyecto.cronograma.fechaFin}" rendered="#{administrarCronograma.renderedNoEditarDatosCronograma}">
                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                </h:outputText>
                                <p:message id="msmFechaFin" display="icon" for="fechaFin"/>
                                <h:outputLabel rendered="#{administrarProrrogas.tieneProrroga}" value="#{msg['lbl.fecha']} #{msg['lbl.prorroga']}"/>
                                <h:outputText id="fechaProrroga" rendered="#{administrarProrrogas.tieneProrroga}" value="#{sessionProyecto.proyecto.cronograma.fechaProrroga}">
                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                </h:outputText>
                                <p:message  id="msmFechaProrroga" rendered="#{administrarProrrogas.tieneProrroga}" display="icon" for="fechaProrroga"/>
                                <h:outputLabel value="#{msg['lbl.tipo']}:" />
                                <p:selectOneMenu id="tipoProyecto" rendered="#{administrarProyectos.renderedEditarDatosProyecto}" value="#{administrarProyectos.tipoProyecto}"  requiredMessage="#{msg['lbl.tipo']} #{msg['lbl.obligatorio']}.">
                                    <f:selectItems value="#{administrarTipoProyectos.buscarActivos()}"/>
                                    <p:ajax event="change" listener="#{administrarProyectos.seleccionarTipoProyecto(sessionProyecto.proyecto)}" update="tipoProyecto,:contenido:msm"/>
                                </p:selectOneMenu>
                                <h:outputText rendered="#{administrarProyectos.renderedEditarDatosProyecto==false}" value="#{administrarProyectos.tipoProyecto}"/>
                                <h:inputHidden/>
                                <h:outputLabel value="#{msg['lbl.categoria']}:" for="catProyecto"/>
                                <p:selectOneMenu id="catProyecto" rendered="#{administrarProyectos.renderedEditarDatosProyecto}" value="#{administrarProyectos.catalogoProyecto}"  requiredMessage="#{msg['lbl.categoria']} #{msg['lbl.obligatorio']}.">
                                    <f:selectItems value="#{administrarCatalogoProyectos.buscarActivos()}"/>
                                    <p:ajax event="change" listener="#{administrarProyectos.seleccionarCatalogoProyecto(sessionProyecto.proyecto)}" update="catProyecto,:contenido:msm"/>
                                </p:selectOneMenu>
                                <h:outputText value="#{administrarProyectos.catalogoProyecto}" rendered="#{administrarProyectos.renderedEditarDatosProyecto==false}"/>
                                <h:inputHidden/>
                                <h:outputLabel value="#{msg['lbl.duracion']}:"/>
                                <h:outputLabel id="duracion" styleClass="informacion" value="#{sessionProyecto.proyecto.cronograma.duracion} #{administrarCatalogoDuracion.catalogoDuracion.substring(2)}"/>
                                <p:commandButton icon="ui-icon-clock"  update=":dlgDuraciones,:duracionesCronograma:tblDuraciones" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarCronograma.abrirDialogoDuraciones(sessionProyecto.proyecto.cronograma)}" />
                                <h:outputLabel value="#{msg['lbl.avance']}:"/>
                                <p:progressBar id="avance"  labelTemplate="#{sessionProyecto.proyecto.cronograma.avance}%" value="#{sessionProyecto.proyecto.cronograma.avance}"/>
                                <h:inputHidden/>
                                <h:outputLabel value="#{msg['lbl.faltante']}:"/>
                                <p:progressBar id="faltante" labelTemplate="#{sessionProyecto.proyecto.cronograma.faltante}%" value="#{sessionProyecto.proyecto.cronograma.faltante}"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:panel header="#{msg['lbl.lineasInvestigacion']}" toggleable="true">
                            <p:dataGrid rendered="#{sessionProyecto.proyecto.estadoProyectoId.id!=1}" value="#{sessionProyecto.proyecto.lineaInvestigacionProyectoList}"
                                        var="lp" columns="1" rows="10" paginator="true" paginatorPosition="bottom"
                                        paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                        emptyMessage="#{msg['lbl.table.empty']}">
                                <h:panelGrid style="background: #fff" styleClass="panelgrid" columns="2" columnClasses="col-sm-1,col-sm-11" rowClasses="rowpanelgrid">
                                    <p:outputLabel value="#{lp.lineaInvestigacionId.nombre}"/>
                                </h:panelGrid>
                            </p:dataGrid>
                            <p:pickList rendered="#{sessionProyecto.proyecto.estadoProyectoId.id==1}" id="lineasInvestigacion" effect="bounce" value="#{administrarProyectos.lineasInvestigacionDualList}" var="items" itemLabel="#{items}" itemValue="#{items}" showSourceControls="true" showTargetControls="true" showCheckbox="true"
                                        showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains"  >
                                <f:facet name="sourceCaption">#{msg['lbl.lineasInvestigacion']} #{msg['lbl.disponibles']}</f:facet>
                                <f:facet name="targetCaption">#{msg['lbl.lineasInvestigacion']} #{msg['lbl.seleccionadas']}</f:facet>
                                <p:ajax event="transfer" update=":buscarDocentesDisponibles:tblDocentes,:buscarDirectoresDisponibles:tblDirectores" listener="#{administrarProyectos.transferLineasInvestigacion}"></p:ajax>
                            </p:pickList>
                        </p:panel>
                        <br/>
                        <p:panel header="#{msg['lbl.carreras']}" toggleable="true">
                            <p:dataGrid rendered="#{sessionProyecto.proyecto.estadoProyectoId.id!=1}" value="#{sessionProyecto.proyecto.proyectoCarreraOfertaList}"
                                        var="pco" columns="1" rows="10" paginator="true" paginatorPosition="bottom"
                                        paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                        emptyMessage="#{msg['lbl.table.empty']}">
                                <h:panelGrid style="background: #fff" styleClass="panelgrid" columns="2" columnClasses="col-sm-1,col-sm-11" rowClasses="rowpanelgrid">
                                    <p:outputLabel value="#{pco.carreraId.nombre}"/>
                                </h:panelGrid>
                            </p:dataGrid>    
                            <p:pickList id="carreras" rendered="#{sessionProyecto.proyecto.estadoProyectoId.id==1}"  value="#{administrarProyectos.carrerasDualList}" var="items" itemLabel="#{items}" itemValue="#{items}" showSourceControls="true" showTargetControls="true" showCheckbox="true"
                                        showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains"  >
                                <f:facet name="sourceCaption">#{msg['lbl.carreras']} #{msg['lbl.disponibles']}</f:facet>
                                <f:facet name="targetCaption">#{msg['lbl.carreras']} #{msg['lbl.seleccionadas']}</f:facet>
                                <p:ajax event="transfer" listener="#{administrarProyectos.transferProyectoCarrera}"></p:ajax>
                            </p:pickList>
                        </p:panel>
                    </p:tab>

                    <p:tab id="tabAutores" rendered="#{administrarAutoresProyecto.renderedBuscar}" title="#{msg['lbl.autores']}">

                        <p:panel header="#{msg['lbl.listado']} #{msg['lbl.autores']}">
                            <p:dataTable id="tblAutores" value="#{administrarAutoresProyecto.autorProyectos}" var="ap" rows="20" paginator="true"
                                         rowIndexVar="rowIx" rowKey="#{ap.fechaInicio}" selectionMode="single" selection="#{ap}" editable="true" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                <p:column rendered="#{administrarAutoresProyecto.renderedNoEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.autor']}"/>
                                    </f:facet>
                                    <h:outputText value="#{ap.aspiranteId.estudianteCarrera.estudianteId}"/>
                                </p:column>
                                <p:column rendered="#{administrarAutoresProyecto.renderedEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.autor']}"/>
                                    </f:facet>
                                    <p:commandLink  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" value="#{ap.aspiranteId.estudianteCarrera.estudianteId}" update=":editarAutor,:contenido:msm,:dlgEditarAutorProyecto" action="#{administrarAutoresProyecto.editar(ap)}" />
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.fecha']} #{msg['lbl.inicio']}"/>
                                    </f:facet>
                                    <h:outputText value="#{administrarConfiguraciones.date(ap.fechaInicio)}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.fechaCulminación']}"/>
                                    </f:facet>
                                    <h:outputText value="#{administrarConfiguraciones.date(ap.fechaCulminacion)}"/>
                                </p:column>
                                <p:column rendered="#{administrarAutoresProyecto.renderedEliminar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.eliminar']}"/>
                                    </f:facet> 
                                    <p:commandButton icon="ui-icon-trash" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":contenido:tabViewDatosProyecto:tblAutores,:contenido:msm"  onclick="if (!confirm('¿#{msg['lbl.confirmarEliminar']}?'))
                                                return false;"  action="#{administrarAutoresProyecto.removerAutor(ap, sessionProyecto.proyecto, sessionUsuario.usuario)}"/>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <h:panelGrid id="buscarAspirantes">
                                    <p:commandButton icon="ui-icon-search" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide(),PF('dlgBuscarAspirantes').show()" value="#{msg['lbl.buscar']} #{msg['lbl.aspirantes']}" update=":buscarAspirantes:tblAspirantes,:dlgAspirantes" rendered="#{administrarAutoresProyecto.renderedBuscarAspirante}"/>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabDocentesProyecto" rendered="#{administrarDocentesProyecto.renderedBuscar}" title="#{msg['lbl.docentes']} #{msg['lbl.pertinencias']}">

                        <p:panel header="#{msg['lbl.listado']} #{msg['lbl.docentes']}">
                            <p:dataTable id="tblDocentesProyecto" value="#{administrarDocentesProyecto.docenteProyectos}" var="item" rows="20" paginator="true"
                                         rowIndexVar="rowIx" editable="true" rowKey="#{item.fecha}" selectionMode="single" selection="#{item}" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                <p:column >
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.docente']}"/>
                                    </f:facet>
                                    <p:commandLink  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" value="#{item.docenteId.persona.nombres} #{item.docenteId.persona.apellidos}" update=":contenido:msm,:dlgViewDp" action="#{administrarDocentesProyecto.view(item)}">
                                        <f:param name="1" value="editar-dlg"/>
                                    </p:commandLink>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.fecha']} #{msg['lbl.asignacion']}"/>
                                    </f:facet>
                                    <h:outputText value="#{administrarConfiguraciones.timestamp(item.fecha)}"/>
                                </p:column>
                                <p:column rendered="#{administrarDocentesProyecto.renderedEliminar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.eliminar']}"/>
                                    </f:facet> 
                                    <p:commandButton  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-trash" update=":contenido:tabViewDatosProyecto:tblDocentesProyecto,:contenido:msm,:contenido:tabViewDatosProyecto:opcionesDocente"  onclick="if (!confirm('¿#{msg['lbl.confirmarEliminar']}?'))
                                                return false;"  action="#{administrarDocentesProyecto.removerDocenteProyecto(item,sessionUsuario.usuario,sessionProyecto.proyecto)}"/>
                                </p:column>
                                <p:column rendered="#{administrarDocentesProyecto.renderedImprimirOficio}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.imprimir']} #{msg['lbl.oficio']}"/>
                                    </f:facet> 
                                    <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-print" update=":contenido:msm,:oficioDocenteProyecto,:dlgOficioDocenteProyecto" action="#{administrarDocentesProyecto.imprimirOficioDocenteProyecto(item,sessionUsuario.usuario)}"/>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <h:panelGrid id="opcionesDocente"  columns="2">
                                    <p:commandButton  icon="ui-icon-search" rendered="#{administrarDocentesProyecto.renderedBuscarEspecialista}" value="#{msg['lbl.buscar']} #{msg['lbl.docentes']}"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":contenido:msm,:buscarDocentesDisponibles,opcionesDocente,:dlgDocentesDisponibles" action="#{administrarDocentesProyecto.openbuscarDocentesDisponible(administrarDocentesProyecto.criterioDocenteDisponible,administrarProyectos.lineaInvestigacions)}">
                                        <f:param name="1" value="buscar-especialistas-dlg"/>
                                    </p:commandButton>
                                    <p:commandButton value="#{msg['lbl.sortear']} #{msg['lbl.docentes']}" rendered="#{administrarDocentesProyecto.renderedSortearDocente}"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-sortear" update="tblDocentesProyecto,opcionesDocente,:contenido:msm" action="#{administrarDocentesProyecto.sortearDocente(administrarProyectos.lineaInvestigacions,sessionUsuario.usuario,sessionProyecto.proyecto)}"  />
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabProrrogas" rendered="#{administrarProrrogas.renderedBuscar}" title="#{msg['lbl.prorrogas']}">
                        <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                            <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1"  columns="2" >
                                <p:inputText style="text-transform: none" value="#{administrarProrrogas.criterio}"/>
                                <p:commandButton value="#{msg['lbl.buscar']}" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-search" update="tblProrrogas,:contenido:msm" action="#{administrarProrrogas.buscar(sessionProyecto.proyecto.cronograma, sessionUsuario.usuario,administrarProrrogas.criterio)}"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:panel header="#{msg['lbl.listado']} #{msg['lbl.prorrogas']}">
                            <p:dataTable id="tblProrrogas" value="#{administrarProrrogas.prorrogas}" var="prorroga" rows="5" paginator="true"
                                         rowIndexVar="rowIx" rowKey="#{prorroga.fecha}" selectionMode="single" selection="#{prorroga}" editable="true" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                <p:column sortBy="#{prorroga.fecha}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.fecha']} #{msg['lbl.prorroga']}"/>
                                    </f:facet>
                                    <h:outputText value="#{administrarConfiguraciones.date(prorroga.fecha)}"/>
                                </p:column>
                                <p:column sortBy="#{prorroga.motivo}" rendered="#{administrarProrrogas.renderedNoEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.motivo']}"/>
                                    </f:facet>
                                    <h:outputText value="#{prorroga.motivo}"/>
                                </p:column>
                                <p:column sortBy="#{prorroga.motivo}" rendered="#{administrarProrrogas.renderedEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.motivo']}"/>
                                    </f:facet>
                                    <p:commandLink  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarProrrogas.editar(prorroga,sessionUsuario.usuario,sessionProyecto.proyecto)}" update=":editarProrroga,:contenido:msm" value="#{prorroga.motivo}">
                                        <f:param name="1" value="editar-dlg"/>
                                    </p:commandLink>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.aceptar']}"/>
                                    </f:facet>
                                    <h:outputText value="#{prorroga.esAceptado}"/>
                                </p:column>
                                <p:column rendered="#{administrarProrrogas.renderedEliminar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.eliminar']}"/>
                                    </f:facet>
                                    <p:commandButton  icon="ui-icon-trash"  onclick="if (!confirm('¿#{msg['lbl.confirmarEliminar']}?'))
                                                return false;" update=":contenido:msm,tblProrrogas" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()"  action="#{administrarProrrogas.remover(prorroga, sessionProyecto.proyecto, sessionUsuario.usuario)}">
                                        <f:param name="2" value="remover-prorroga"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column rendered="#{administrarProrrogas.renderedImprimirOficio}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.imprimir']} #{msg['lbl.oficio']}"/>
                                    </f:facet> 
                                    <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-print" update=":contenido:msm,:oficioDirectorProrroga,:dlgOficioDirectorProrroga" action="#{administrarProrrogas.imprimirInformeOficioRespuesta(prorroga, sessionUsuario.usuario)}">
                                        <f:param name="1" value="oficio"></f:param>
                                    </p:commandButton>
                                </p:column>
                                <p:column rendered="#{administrarProrrogas.renderedImprimirOficio==true}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.imprimir']} #{msg['lbl.respuesta']}"/>
                                    </f:facet> 
                                    <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-print" update=":contenido:msm,:respuestaProrrogaAutorProyecto,:dlgRespuestaProrrogaAutorProyecto" action="#{administrarProrrogas.imprimirInformeOficioRespuesta(prorroga, sessionUsuario.usuario)}">
                                        <f:param name="1" value="respuesta"></f:param>
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <h:panelGrid id="crearProrroga">
                                    <p:commandButton update=":dlgEditarProrroga,:editarProrroga,:contenido:msm"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" rendered="#{administrarProrrogas.renderedCrear}" value="#{msg['lbl.crear']}"  action="#{administrarProrrogas.crear(sessionUsuario.usuario,sessionProyecto.proyecto)}" icon="ui-icon-newwin"/>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel> 
                    </p:tab>
                    <p:tab id="tabDirectoresProyecto" rendered="#{administrarDirectoresProyecto.renderedBuscar}" title="#{msg['lbl.directores']}">
                        <p:panel header="#{msg['lbl.listado']} #{msg['lbl.directores']}">
                            <p:dataTable id="tblDirectores" value="#{administrarDirectoresProyecto.directorProyectos}" var="item" rows="5" paginator="true"
                                         rowIndexVar="rowIx" rowKey="#{item.fechaInicio}" selection="#{item}" selectionMode="single" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                <p:column sortBy="#{item.directorId.docenteCarrera.docenteId.persona.apellidos}" rendered="#{administrarDirectoresProyecto.renderedEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.docente']}"/>
                                    </f:facet>
                                    <p:commandLink  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" value="#{item.directorId.docenteCarrera.docenteId.persona.nombres} #{item.directorId.docenteCarrera.docenteId.persona.apellidos}" update=":editarDirectorProyecto,:dlgEditarDirectorProyecto,:contenido:msm" action="#{administrarDirectoresProyecto.editar(item,sessionUsuario.usuario)}">
                                        <f:param name="1" value="editar-dlg"/>
                                    </p:commandLink>
                                </p:column>
                                <p:column sortBy="#{item.directorId.docenteCarrera.docenteId.persona.apellidos}" rendered="#{administrarDirectoresProyecto.renderedNoEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.docente']}"/>
                                    </f:facet>
                                    <h:outputText value="#{item.directorId.docenteCarrera.docenteId.persona.nombres} #{item.directorId.docenteCarrera.docenteId.persona.apellidos}" />
                                </p:column>
                                <p:column sortBy="#{item.fechaInicio}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.fecha']} #{msg['lbl.inicio']}"/>
                                    </f:facet>
                                    <h:outputText value="#{administrarConfiguraciones.date(item.fechaInicio)}"/>
                                </p:column>
                                <p:column sortBy="#{item.fechaCulminacion}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.fechaCulminación']}"/>
                                    </f:facet>
                                    <h:outputText value="#{administrarConfiguraciones.date(item.fechaCulminacion)}"/>
                                </p:column>
                                <p:column rendered="#{administrarDirectoresProyecto.renderedEliminar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.eliminar']}"/>
                                    </f:facet> 
                                    <p:commandButton  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-trash"  update=":contenido:tabViewDatosProyecto:tblDirectores,:contenido:tabViewDatosProyecto:opcionesDirector,:contenido:msm,:editarRenunciaDirectorProyecto,:buscarDirectoresDisponibles:tblDirectores"  onclick="if (!confirm('¿#{msg['lbl.confirmarEliminar']}?'))
                                                return false;"  action="#{administrarDirectoresProyecto.removerDirectorProyecto(item,sessionUsuario.usuario,sessionProyecto.proyecto)}"/>
                                </p:column>
                                <p:column rendered="#{administrarDirectoresProyecto.renderedImprimirOficio}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.imprimir']} #{msg['lbl.oficio']}"/>
                                    </f:facet> 
                                    <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-print" update=":contenido:msm,:oficioDirectorProyecto" action="#{administrarDirectoresProyecto.imprimirOficio(item, sessionUsuario.usuario)}"/>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <h:panelGrid id="opcionesDirector" columns="2">
                                    <p:commandButton  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" rendered="#{administrarDirectoresProyecto.renderedBuscarDirector}"  icon="ui-icon-search" value="#{msg['lbl.buscar']} #{msg['lbl.directores']}" update=":contenido:msm,opcionesDirector,:dlgBuscarDirectoresDisponibles,:buscarDirectoresDisponibles" action="#{administrarDirectoresProyecto.dialogoBuscarDirectoresDisponibles(administrarProyectos.lineaInvestigacions,sessionUsuario.usuario)}">
                                        <f:param name="1" value="buscar-directores-dlg"/>
                                    </p:commandButton>
                                    <p:commandButton  rendered="#{administrarDirectoresProyecto.renderedSortearDirectorProyecto}" value="#{msg['lbl.sortear']} #{msg['lbl.directores']}" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":contenido:msm,opcionesDirector,:contenido:tabViewDatosProyecto:tblDirectores,:buscarDirectoresDisponibles:tblDirectores"  action="#{administrarDirectoresProyecto.sortearDirector(administrarProyectos.lineaInvestigacions,sessionUsuario.usuario,sessionProyecto.proyecto)}"/>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </p:tab>
                    <p:tab  id="tabTribunales" rendered="#{administrarTribunales.renderedBuscar}" title="#{msg['lbl.tribunales']}" >
                        <p:panel header="#{msg['lbl.tribunales']}" toggleable="true">
                            <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1" columns="2">
                                <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" value="#{msg['lbl.buscar']}" icon="ui-icon-search" update="dgTribunales" action="#{administrarTribunales.buscar(sessionProyecto.proyecto, sessionUsuario.usuario)}"/>
                            </h:panelGrid>
                            <br/>
                            <p:dataGrid id="dgTribunales" paginatorPosition="bottom" value="#{administrarTribunales.tribunales}" var="tribunal" rows="4" columns="1" paginator="true"
                                        rowIndexVar="rowIx" emptyMessage="#{msg['lbl.table.empty']}">
                                <p:panel toggleable="true">
                                    <f:facet name="header">
                                        <p:commandLink onstart="PF('dlgLoading').show()" update=":dlgEditarTribunal,:editarTribunal" oncomplete="PF('dlgLoading').hide()" action="#{administrarTribunales.editar(sessionUsuario.usuario, tribunal, sessionProyecto.proyecto)}" value="#{tribunal.descripcion}">
                                            <f:param name="1" value="editar-dlg"/>
                                        </p:commandLink>
                                        <p:commandLink title="#{msg['lbl.eliminar']}" update="dgTribunales" onclick="if (!confirm('#{msg['lbl.confirmarEliminar']}'))
                                                    return false;" action="#{administrarTribunales.remover(tribunal,sessionUsuario.usuario,sessionProyecto.proyecto)}" rendered="#{administrarTribunales.renderedEliminar}">
                                            <p:graphicImage value="/resources/img/icon_deletelink.gif"/>
                                        </p:commandLink>
                                    </f:facet>
                                    <p:panel header="#{msg['lbl.miembros']}" toggleable="true">
                                        <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1"  columns="2" >
                                            <p:inputText placeholder="#{msg['lbl.buscar']}" style="text-transform: none" value="#{administrarMiembrosTribunal.criterio}"/>
                                            <p:commandButton value="#{msg['lbl.buscar']}" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-search" update="tblMiembros,:contenido:msm" action="#{administrarMiembrosTribunal.buscar(tribunal, sessionUsuario.usuario,administrarMiembrosTribunal.criterio)}"/>
                                        </h:panelGrid>
                                        <br/>
                                        <p:dataTable id="tblMiembros" paginatorPosition="bottom" value="#{administrarMiembrosTribunal.miembros}" var="miembro" rows="5" paginator="true"
                                                     rowIndexVar="rowIx" editable="true" editMode="cell" rowKey="#{miembro.docenteId.persona.numeroIdentificacion}" selection="#{miembro}" selectionMode="single"  rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                            <p:column sortBy="#{miembro.docenteId.persona.apellidos}" rendered="#{administrarMiembrosTribunal.renderedEditar}">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.miembro']}"/>
                                                </f:facet>
                                                <p:commandLink value="#{miembro.docenteId.persona.nombres} #{miembro.docenteId.persona.apellidos}" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" update=":editarMiembroTribunal,:editarTribunal:msm" action="#{administrarMiembrosTribunal.editar(sessionUsuario.usuario, miembro,sessionProyecto.proyecto)}">
                                                    <f:param name="1" value="editar-dlg"/>
                                                </p:commandLink>
                                            </p:column>
                                            <p:column sortBy="#{miembro.docenteId.persona.apellidos}" rendered="#{administrarMiembrosTribunal.renderedNoEditar}">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.miembro']}"/>
                                                </f:facet>
                                                <h:outputText value="#{miembro.docenteId.persona.nombres} #{miembro.docenteId.persona.apellidos}" />
                                            </p:column>
                                            <p:column sortBy="#{miembro.docenteId.persona.numeroIdentificacion}" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.ci']} "/>
                                                </f:facet>
                                                <h:outputText value="#{miembro.docenteId.persona.numeroIdentificacion}"/>
                                            </p:column>
                                            <p:column sortBy="#{miembro.cargoId.nombre}" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.cargo']}"/>
                                                </f:facet>
                                                <h:outputText value="#{miembro.cargoId.nombre}"/>
                                            </p:column>
                                            <p:column rendered="#{administrarMiembrosTribunal.renderedImprimirOficioSustentacionPrivada}">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.imprimir']} #{msg['lbl.oficio']}"/>
                                                </f:facet> 
                                                <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-print" update=":editarTribunal:msm,:oficioMiembroTribunalSprivada" action="#{administrarMiembrosTribunal.imprimirOficioMiembroTribunal(miembro,tribunal,sessionProyecto.proyecto,sessionUsuario.usuario)}"/>
                                            </p:column>
                                            <p:column rendered="#{administrarMiembrosTribunal.renderedImprimirOficioSustentacionPublica}">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.imprimir']} #{msg['lbl.oficio']}"/>
                                                </f:facet> 
                                                <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-print" update=":editarTribunal:msm,:oficioMiembroTribunalSpublica,:dlgOficioMiembroTribunalSpublica,:dlgOficioMiembroTribunalSprivada" action="#{administrarMiembrosTribunal.imprimirOficioMiembroTribunal(miembro,tribunal,sessionProyecto.proyecto,sessionUsuario.usuario)}"/>
                                            </p:column>
                                            <p:column rendered="#{administrarMiembrosTribunal.renderedEliminar}">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg['lbl.eliminar']}"/>
                                                </f:facet>
                                                <p:commandButton icon="ui-icon-trash"  onclick="if (!confirm('#{msg['lbl.confirmarEliminar']}'))
                                                            return false;" update=":contenido:msm,:editarTribunal:msm,tblMiembros" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()"  action="#{administrarMiembrosTribunal.remover(miembro,tribunal,sessionProyecto.proyecto, sessionUsuario.usuario)}">
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>
                                        <f:facet name="footer">
                                            <h:panelGrid id="crearMiembroTribunal"  columns="1">
                                                <p:commandButton rendered="#{administrarMiembrosTribunal.renderedCrear}"  value="#{msg['lbl.crear']}" update=":editarTribunal:msm,:editarMiembroTribunal" icon="ui-icon-newwin" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarMiembrosTribunal.crear(sessionUsuario.usuario,tribunal,sessionProyecto.proyecto)}">
                                                    <f:param name="1" value="crear-dlg" />
                                                </p:commandButton>
                                            </h:panelGrid> 
                                        </f:facet>
                                    </p:panel>
                                    <br/>
                                    <p:panel rendered="#{administrarEvaluacionesTribunal.renderedEditar==true}" header="#{msg['lbl.cronograma']}" toggleable="true">
                                        <p:schedule id="schedule" value="#{administrarEvaluacionesTribunal.eventModel}" timeZone="GMT-5" view="agendaWeek">
                                            <p:ajax event="dateSelect" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarEvaluacionesTribunal.onEventCrear}" update=":dlgEditarEvaluacionTribunal,:editarEvaluacionTribunal"/>
                                            <p:ajax event="dateSelect" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarEvaluacionesTribunal.setSessionTribunal(tribunal)}"/>
                                            <p:ajax event="eventSelect" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarEvaluacionesTribunal.onEventSelect}" update=":dlgEditarEvaluacionTribunal,:editarEvaluacionTribunal,:dlgViewInfoTribunal,:viewEvaluacionTribunal" />                                      
                                            <p:ajax event="eventMove" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarEvaluacionesTribunal.onEventMove}" update=":contenido:msm,schedule"/>                                                                                  
                                            <p:ajax event="eventResize" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarEvaluacionesTribunal.onEventResize}" update="schedule,:contenido:msm"/>
                                        </p:schedule>
                                    </p:panel>
                                    <p:panel header="#{msg['lbl.cronograma']}" toggleable="true" rendered="#{administrarEvaluacionesTribunal.renderedEditar==false}">
                                        <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1"  columns="2" >
                                            <p:commandButton value="#{msg['lbl.buscar']}" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-search" update="tblEvaluaciones,:contenido:msm" action="#{administrarEvaluacionesTribunal.buscar(tribunal, sessionUsuario.usuario)}"/>
                                        </h:panelGrid>
                                        <br></br>
                                        <p:dataGrid id="tblEvaluaciones" paginatorPosition="bottom" value="#{administrarEvaluacionesTribunal.evaluacionTribunals}" var="ev" rows="4" columns="1" paginator="true"
                                                    rowIndexVar="rowIx"  emptyMessage="#{msg['lbl.table.empty']}">
                                            <p:panel header="#{ev.catalogoEvaluacionId.nombre}" toggleable="true">
                                                <p:panel>
                                                    <div class="row-fluid">
                                                        <div class="col-sm-5">
                                                            <p:panel header="#{msg['lbl.autores']}" style="background: #333">
                                                                <p:dataGrid  value="#{administrarAutoresProyecto.autoresProyecto(sessionProyecto.proyecto)}"
                                                                             var="ap" columns="1"  paginator="false" paginatorPosition="bottom"
                                                                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                                                             emptyMessage="#{msg['lbl.table.empty']}">
                                                                    <h:panelGrid  styleClass="panelgrid" style="background: #fff" columns="2" rowClasses="rowpanelgrid"  columnClasses="col-sm-6,col-sm-6">
                                                                        <p:outputLabel value="#{ap.aspiranteId.estudianteCarrera.estudianteId.persona.nombres} #{ap.aspiranteId.estudianteCarrera.estudianteId.persona.apellidos}"/>
                                                                        <p:commandButton icon="ui-icon-print" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.imprimirActaGrado(ev,ap)}" update=":dlgActaGrado,:actaGrado"  rendered="#{ev.esAptoCalificar and ev.catalogoEvaluacionId.id==2 and administrarEvaluacionesTribunal.renderedImprimirActa(ev,sessionUsuario.usuario)}" value="#{msg['lbl.imprimir']} #{msg['lbl.acta_publica']}"/>
                                                                    </h:panelGrid>
                                                                </p:dataGrid>
                                                            </p:panel>
                                                        </div>
                                                        <div class="col-sm-5">
                                                            <h:panelGrid  styleClass="panelgrid" style="background: #f4f4f4" columns="2" rowClasses="rowpanelgrid"  columnClasses="col-sm-2,col-sm-10">
                                                                <p:outputLabel  value="#{msg['lbl.lugar']}:"/>
                                                                <p:outputLabel  value="#{ev.lugar}"/>
                                                                <p:outputLabel  value="#{msg['lbl.equivalencia']}:"/>
                                                                <h:outputText style="color: red;font-weight: bolder" rendered="#{ev.rangoEquivalenciaId.equivalenciaId.id==1}" value="#{ev.rangoEquivalenciaId.equivalenciaId.nombre}"/>
                                                                <h:outputText style="color: #2aabd2;font-weight: bolder" rendered="#{ev.rangoEquivalenciaId.equivalenciaId.id==2}" value="#{ev.rangoEquivalenciaId.equivalenciaId.nombre}"/>
                                                                <h:outputText style="color: yellowgreen;font-weight: bolder" rendered="#{ev.rangoEquivalenciaId.equivalenciaId.id==3}" value="#{ev.rangoEquivalenciaId.equivalenciaId.nombre}"/>
                                                                <h:outputText style="color: #009933;font-weight: bolder" rendered="#{ev.rangoEquivalenciaId.equivalenciaId.id==4}" value="#{ev.rangoEquivalenciaId.equivalenciaId.nombre}"/>
                                                                <p:outputLabel  value="#{msg['lbl.fecha']} #{msg['lbl.inicio']}:"/>
                                                                <p:outputLabel  value="#{ev.fechaInicio}">
                                                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy HH:mm:ss"/>
                                                                </p:outputLabel>
                                                                <p:outputLabel  value="#{msg['lbl.fechaCulminación']}:"/>
                                                                <p:outputLabel  value="#{ev.fechaFin}">
                                                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy HH:mm:ss"/>
                                                                </p:outputLabel>
                                                            </h:panelGrid>   
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <p:panel header="#{msg['lbl.calificaciones']}" style="background: #333">
                                                                <p:dataGrid  value="#{administrarCalificacionMiembro.calificaciones(ev)}"
                                                                             var="cm" columns="1"  paginator="false" paginatorPosition="bottom"
                                                                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                                                             emptyMessage="#{msg['lbl.table.empty']}">
                                                                    <h:panelGrid style="width:100%;background: #fff" rowClasses="rowpanelgrid" columns="2">
                                                                        <p:outputLabel style="text-align:right!important;width: 100%" value="#{cm.nota}"/>
                                                                    </h:panelGrid>
                                                                </p:dataGrid>
                                                                <f:facet name="footer">
                                                                    <p:outputLabel style="text-align:right!important;width: 100%" value="#{ev.nota}"/>
                                                                </f:facet>
                                                            </p:panel>
                                                        </div>
                                                    </div>
                                                </p:panel>
                                                <f:facet name="footer">
                                                    <h:panelGrid styleClass="panelgrid" columns="3" >
                                                        <p:commandButton rendered="#{ev.esAptoCalificar and administrarEvaluacionesTribunal.renderedCalificarPrivada}" onclick="if (!confirm('#{msg['lbl_confirmar_asentar_nota']}'))
                                                                    return false;"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update="tblEvaluaciones,:contenido:msm" action="#{administrarEvaluacionesTribunal.grabar(ev, tribunal, sessionProyecto.proyecto, sessionUsuario.usuario)}"  value="#{msg['lbl.calificar_privada']}">
                                                            <f:param name="1" value="grabar-editar-dlg"/>
                                                        </p:commandButton>
                                                        <p:commandButton rendered="#{ev.esAptoCalificar and administrarEvaluacionesTribunal.renderedCalificarPublica}" onclick="if (!confirm('#{msg['lbl_confirmar_asentar_nota']}'))
                                                                    return false;" update="tblEvaluaciones,:contenido:msm" value="#{msg['lbl.calificar_publica']}" action="#{administrarEvaluacionesTribunal.grabar(ev, tribunal, sessionProyecto.proyecto, sessionUsuario.usuario)}"/>
                                                        <p:commandButton  rendered="#{ev.esAptoCalificar and ev.catalogoEvaluacionId.id==1 and administrarEvaluacionesTribunal.renderedImprimirActa(ev,sessionUsuario.usuario)}" onstart="PF('dlgLoading').show()"  icon="ui-icon-print" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.imprimirActaPrivada('preliminar',ev)}" update=":actaPrivada,:dlgActaPrivada"  value="#{msg['lbl.imprimir']} #{msg['lbl.acta_preliminar']}"/>
                                                        <p:commandButton  rendered="#{ev.esAptoCalificar and  ev.catalogoEvaluacionId.id==1 and administrarEvaluacionesTribunal.renderedImprimirActa(ev,sessionUsuario.usuario)}" onstart="PF('dlgLoading').show()"  icon="ui-icon-print" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.imprimirActaPrivada('privada',ev)}" update=":actaPrivada,:dlgActaPrivada"  value="#{msg['lbl.imprimir']} #{msg['lbl.acta_privada']}"/>
                                                    </h:panelGrid>
                                                </f:facet>
                                            </p:panel>
                                        </p:dataGrid>
                                    </p:panel>
                                </p:panel>
                            </p:dataGrid>
                            <f:facet name="footer">
                                <h:panelGrid  id="crearTribunal" columns="1">
                                    <p:commandButton  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" rendered="#{administrarTribunales.renderedCrear}"  icon="ui-icon-newwin" value="#{msg['lbl.crear']}" update=":contenido:msm,:dlgEditarTribunal" action="#{administrarTribunales.crear(sessionUsuario.usuario,sessionProyecto.proyecto)}">
                                        <f:param name="1" value="crear-dlg"/>
                                    </p:commandButton>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                        <br/>

                    </p:tab>

                    <p:tab id="tabPropiedades" rendered="#{administrarConfiguracionesProyecto.renderedBuscar}" title="#{msg['lbl.propiedades']}">
                        <p:panel header="#{msg['lbl.propiedades']}">
                            <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                                <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1" columns="2">
                                    <p:inputText style="text-transform: none" value="#{administrarConfiguracionesProyecto.criterio}"/>
                                    <p:commandButton value="#{msg['lbl.buscar']}" icon="ui-icon-search" update="dgConfiguraciones,:contenido:msm" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarConfiguracionesProyecto.buscar(administrarConfiguracionesProyecto.criterio,sessionProyecto.proyecto)}"/>
                                </h:panelGrid>
                            </p:panel>
                            <br/>
                            <p:dataGrid  value="#{administrarConfiguracionesProyecto.configuracionProyectos}"
                                         id="dgConfiguraciones" var="configuracion" columns="1" rows="5" paginator="true"
                                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                         emptyMessage="#{msg['lbl.table.empty']}">
                                <p:panel header="#{configuracion.nombre} (#{configuracion.codigo})">

                                    <h:panelGrid  rendered="#{administrarConfiguracionesProyecto.renderedEditar}" styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-2,col-sm-9,col-sm-1" columns="3">
                                        <h:outputLabel value="#{msg['lbl.valor']}:"/>
                                        <p:selectOneMenu  rendered="#{configuracion.tipo=='combo'}"   value="#{administrarCatalogoDuracion.catalogoDuracion}">
                                            <f:selectItems value="#{administrarCatalogoDuracion.buscarActivos()}"/>
                                            <p:ajax event="change" listener="#{administrarConfiguracionesProyecto.editar(configuracion, sessionUsuario.usuario, sessionProyecto.proyecto)}"/>
                                        </p:selectOneMenu>
                                        <p:inputText id="valor" rendered="#{configuracion.tipo=='numerico'}"  value="#{configuracion.valor}">
                                            <f:validateRegex pattern="^[0-9]{1,11}$" />
                                            <p:ajax event="change" update="@this"/>
                                        </p:inputText>
                                        <p:commandButton icon="ui-icon-pencil"  >
                                            <f:param name="1" value="grabar-editar"/>
                                            <p:ajax event="click" update="dgConfiguraciones,:contenido:msm"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" listener="#{administrarConfiguracionesProyecto.editar(configuracion)}"/>
                                            <p:ajax event="click" update=":contenido:tabViewDatosProyecto:duracion,:duracionesCronograma:tblDuraciones" listener="#{administrarCronograma.editarCronograma(sessionProyecto.proyecto.cronograma)}"/>
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <h:panelGrid rendered="#{administrarConfiguracionesProyecto.renderedNoEditar}" styleClass="panelgrid" rowClasses="row" columnClasses="col-lg-1,col-lg-10,col-lg-1" columns="2">
                                        <h:outputLabel value="#{msg['lbl.valor']}:"/>
                                        <h:outputText value="#{configuracion.valor}"/>
                                    </h:panelGrid>
                                </p:panel>
                            </p:dataGrid>
                        </p:panel>
                    </p:tab>
                </p:tabView>
                <br/>
                <h:panelGrid styleClass="pnl-botones" columns="3">
                    <p:commandButton  value="#{msg['lbl.grabar']}"  update=":contenido:msm" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-disk" action="#{administrarProyectos.confirmarGuardar(sessionProyecto.proyecto,sessionTemaProyecto.temaProyecto)}">
                        <f:param name="1" value="guardar" />
                    </p:commandButton>
                    <p:commandButton  value="#{msg['lbl.grabar']} #{msg['lbl.y']} #{msg['lbl.editar']}" icon="ui-icon-disk" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":contenido:msm,:contenido:tabViewDatosProyecto" action="#{administrarProyectos.confirmarGuardarEditar(sessionProyecto.proyecto,sessionTemaProyecto.temaProyecto)}">
                        <f:param name="1" value="guardar-editar" />
                    </p:commandButton>
                    <!-- <p:commandButton  value="{msg['lbl.imprimir']} {msg['lbl.solicitud']}"  icon="ui-icon-print" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":editarReporteSolicitudDenunciaProyecto" rendered="direc{administrarProyectos.renderedImprimir(sessionProyecto.proyecto)}" action="{administrarProyectos.imprimir()}"/>-->
                </h:panelGrid>
            </ui:define>
            <ui:define name="dlgs">
                <!--*****************************************************************Dialogo directores disponibles**********************************************************************-->
                <p:dialog id="dlgBuscarDirectoresDisponibles" widgetVar="dlgBuscarDirectoresDisponibles" styleClass="modal-md" header="#{msg['lbl.listado']} #{msg['lbl.directores']}"  modal="true" >
                    <h:form id="buscarDirectoresDisponibles">
                        <p:panel rendered="#{administrarDirectoresProyecto.renderedDlgBuscarDirectoresDisponibles}" >
                            <p:messages id="msm"/>
                            <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                                <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1" columns="2">
                                    <p:inputText style="text-transform: none" value="#{administrarDirectoresProyecto.criterioDirector}"/>
                                    <p:commandButton value="#{msg['lbl.buscar']}" icon="ui-icon-search" update="tblDirectores,msm" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarDirectoresProyecto.listadoDirectoresAptos(administrarDirectoresProyecto.criterioDirector,administrarProyectos.lineaInvestigacions,sessionUsuario.usuario)}"/>
                                </h:panelGrid>
                            </p:panel>
                            <br/>
                            <p:panel header="#{msg['lbl.listado']} #{msg['lbl.directores']}">
                                <p:dataTable id="tblDirectores" value="#{administrarDirectoresProyecto.directoresDisponibles}" var="director" rows="5" paginator="true"
                                             rowIndexVar="rowIx" rowKey="#{director.docenteCarrera.docenteId.persona.apellidos}" selectionMode="single"  selection="#{director}" editable="true" scrollHeight="200" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">

                                    <p:column rendered="#{administrarDirectoresProyecto.renderedSeleccionar}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.seleccionar']}"/>
                                        </f:facet>
                                        <p:commandButton icon="ui-icon-circle-plus" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarDirectoresProyecto.agregarDirectorProyecto(director,sessionUsuario.usuario,sessionProyecto.proyecto)}" update=":contenido:tabViewDatosProyecto:tblDirectores,:contenido:msm,:buscarDirectoresDisponibles:msm,:contenido:tabViewDatosProyecto"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.foto']}"/>
                                        </f:facet>
                                        <p:graphicImage id="foto" cache="false"  height="50" width="50" value="/AppServlet?id=#{director.docenteCarrera.docenteId.persona.id}&amp;entity=Persona"/>
                                    </p:column>
                                    <p:column sortBy="#{director.docenteCarrera.docenteId.persona.apellidos}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.director']}"/>
                                        </f:facet>
                                        <h:outputText value="#{director.docenteCarrera.docenteId.persona.nombres} #{director.docenteCarrera.docenteId.persona.apellidos}"/>
                                    </p:column>
                                    <p:column sortBy="#{director.docenteCarrera.docenteId.persona.numeroIdentificacion}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.ci']}"/>
                                        </f:facet>
                                        <h:outputText value="#{director.docenteCarrera.docenteId.persona.numeroIdentificacion}"/>
                                    </p:column>
                                    <p:column sortBy="#{director.docenteCarrera.docenteId.persona.email}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.email']}"/>
                                        </f:facet>
                                        <h:outputText value="#{director.docenteCarrera.docenteId.persona.email}"/>
                                    </p:column>
                                    <p:column sortBy="#{director.docenteCarrera.carreraId.nombre}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.carrera']}"/>
                                        </f:facet>
                                        <h:outputText value="#{director.docenteCarrera.carreraId.nombre}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <!--***************************************************************Dialogo BUSCAR DOCENTES DISPONIBLES****************************************************************************************************************-->

                <p:dialog id="dlgDocentesDisponibles" header="#{msg['lbl.docentes']} #{msg['lbl.disponibles']}"  widgetVar="dlgBuscarDocentesDisponibles" styleClass="modal-md" 
                          modal="true" >
                    <h:form id="buscarDocentesDisponibles">
                        <p:panel  rendered="#{administrarDocentesProyecto.renderedDlgBuscarDocentesDisponibles}">
                            <p:messages id="msm"/>
                            <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                                <h:panelGrid columns="2" styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1" >
                                    <p:inputText style="text-transform: none" value="#{administrarDocentesProyecto.criterioDocenteDisponible}"/>
                                    <p:commandButton value="#{msg['lbl.buscar']}" icon="ui-icon-search" update="tblDocentes,msm" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarDocentesProyecto.listadoDocentesDiponibles(administrarDocentesProyecto.criterioDocenteDisponible,administrarProyectos.lineaInvestigacions)}"/>
                                </h:panelGrid>
                            </p:panel>
                            <br/>
                            <p:panel header="#{msg['lbl.listado']} #{msg['lbl.docentes']} #{msg['lbl.disponibles']}">
                                <p:dataTable id="tblDocentes" value="#{administrarDocentesProyecto.docentesDisponibles}" var="docente" rows="5" paginator="true"
                                             rowIndexVar="rowIx" rowKey="#{docente.persona.apellidos}" selection="#{docente}" selectionMode="single" editable="true"  editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                    <p:column rendered="#{administrarDocentesProyecto.renderedSeleccionarEspecialista}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.seleccionar']}"/>
                                        </f:facet>
                                        <p:commandButton icon="ui-icon-circle-plus" onclick="if (!confirm('¿#{msg['lbl.confirmarSeleccionar']}.?'))
                                                    return false;" action="#{administrarDocentesProyecto.agregarDocenteProyecto(docente,sessionUsuario.usuario,sessionProyecto.proyecto)}" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" update=":contenido:tabViewDatosProyecto:tblDocentesProyecto,:contenido:msm,:contenido:tabViewDatosProyecto,:buscarDocentesDisponibles:msm">
                                            <f:param name="1" value="seleccionar-dlg"/>
                                        </p:commandButton>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.foto']}"/>
                                        </f:facet>
                                        <p:graphicImage id="foto" cache="false"  height="50" width="50" value="/AppServlet?id=#{docente.persona.id}&amp;entity=Persona"/>
                                    </p:column>
                                    <p:column sortBy="#{docente.persona.apellidos}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.docente']}"/>
                                        </f:facet>
                                        <h:outputText value="#{docente.persona.nombres} #{docente.persona.apellidos}"/>
                                    </p:column>
                                    <p:column sortBy="#{docente.persona.numeroIdentificacion}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.ci']}"/>
                                        </f:facet>
                                        <h:outputText value="#{docente.persona.numeroIdentificacion}"/>
                                    </p:column>
                                    <p:column sortBy="#{docente.persona.email}">
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.email']}"/>
                                        </f:facet>
                                        <h:outputText value="#{docente.persona.email}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>
                    </h:form>
                </p:dialog>


                <!--***********************************************************************DIALOGO BUSCAR ASPIRANTES*****************************************************************************-->
                <p:dialog id="dlgAspirantes" widgetVar="dlgBuscarAspirantes" header="#{msg['lbl.buscar']} #{msg['lbl.aspirantes']}"  styleClass="modal-sm" showEffect="fade"  modal="true" >
                    <h:form id="buscarAspirantes">
                        <p:messages id="msm"/>
                        <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                            <h:panelGrid columns="2" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1" styleClass="panelgrid" >
                                <p:inputText style="text-transform: none" value="#{administrarAutoresProyecto.criterioBusquedaAspirante}"/>
                                <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" value="#{msg['lbl.buscar']}" icon="ui-icon-search" update="tblAspirantes" action="#{administrarAutoresProyecto.buscarAspirantes(administrarAutoresProyecto.criterioBusquedaAspirante,sessionUsuario.usuario,sessionProyecto.proyecto)}"/>
                            </h:panelGrid>
                        </p:panel>
                        <p:panel header="#{msg['lbl.aspirantes']}" >
                            <p:dataTable id="tblAspirantes" value="#{administrarAutoresProyecto.aspirantes}"  var="aspirante" rows="20" paginator="true"
                                         rowIndexVar="rowIx"  rowKey="#{aspirante.estudianteCarrera.estudianteId.persona.numeroIdentificacion}" selectionMode="single" selection="#{aspirante}" editable="true" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">

                                <p:column rendered="#{administrarAutoresProyecto.renderedSeleccionar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.seleccionar']}"/>
                                    </f:facet>
                                    <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-circle-plus" action="#{administrarAutoresProyecto.agregarAutorProyecto(aspirante,sessionProyecto.proyecto,sessionUsuario.usuario)}" update=":contenido:tabViewDatosProyecto:tblAutores,:contenido:msm,:contenido:tabViewDatosProyecto,:buscarAspirantes:msm"/>
                                </p:column>
                                <p:column sortBy="#{aspirante.estudianteCarrera.estudianteId.persona.apellidos}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.aspirante']}"/>
                                    </f:facet>
                                    <p:commandLink  value="#{aspirante.estudianteCarrera.estudianteId.persona}"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":editarEstudiante:tabViewDatosEstudiante,:editarEstudiante:msm,:buscarAspirantes:msm,:dlgEstudiante"  action="#{administrarEstudiantes.editar(aspirante.estudianteCarrera.estudianteId,sessionUsuario.usuario)}">
                                        <f:param name="1" value="editar-dlg"/>
                                    </p:commandLink>
                                </p:column>
                                <p:column sortBy="#{aspirante.estudianteCarrera.estudianteId.persona.numeroIdentificacion}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.ci']}"/>
                                    </f:facet>
                                    <h:outputText value="#{aspirante.estudianteCarrera.estudianteId.persona.numeroIdentificacion}"/>
                                </p:column>
                                <p:column sortBy="#{aspirante.estudianteCarrera.carreraId.nombre}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.carrera']}"/>
                                    </f:facet>
                                    <h:outputText value="#{aspirante.estudianteCarrera.carreraId.nombre}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.estado']}"/>
                                    </f:facet>
                                    <h:outputText value="#{aspirante.estudianteCarrera.estadoEstudianteCarrera.nombre}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <f:param name="footer">
                            <h:panelGrid styleClass="pnl-botones" columns="2">
                                <p:commandButton  value="#{msg['lbl.crear']}"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" rendered="#{administrarEstudiantes.renderedCrear()}" icon="ui-icon-newwin" update=":editarEstudiante:tabViewDatosEstudiante,:editarEstudiante:msm,:dlgEstudiante"  action="#{administrarEstudiantes.crear(sessionUsuario.usuario)}">
                                    <f:param name="1" value="crear-dlg"/>
                                </p:commandButton>
                            </h:panelGrid>
                        </f:param>
                    </h:form>
                </p:dialog>

                <!--**********************************************************************FORMULARIO DIALOG DURACIONES CRONOGRAMA**********************************************************-->

                <p:dialog id="dlgDuraciones" widgetVar="dlgBuscarDuraciones" header="#{msg['lbl.duracion']} #{msg['lbl.proyecto']}"   modal="true" showEffect="fade" styleClass="modal-sm">
                    <h:form id="duracionesCronograma">
                        <p:panel header="#{msg['lbl.duracion']} #{msg['lbl.proyecto']}">
                            <p:dataTable id="tblDuraciones" value="#{sessionProyecto.proyecto.cronograma.duracionCronogramaList}" var="duracion" rows="20" paginator="true"
                                         rowIndexVar="rowIx" rowKey="#{duracion.duracion}" selection="#{duracion}" selectionMode="single" editable="true" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.duracion']}"/>
                                    </f:facet>
                                    <h:outputText value="#{duracion.duracion}"/>
                                </p:column>
                                <p:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.categoria']}"/>
                                    </f:facet>
                                    <h:outputText value="#{duracion.catalogoDuracionId.nombre}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <!--*******************************************************************************************DIALOGO EDITAR AUTOR PROYECTO**************************************************************************************************-->

                <p:dialog  id="dlgEditarAutorProyecto"  header="#{sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera.estudianteId.persona.nombres} 
                           #{sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera.estudianteId.persona.apellidos}"  widgetVar="dlgEditarAutor" styleClass="modal-sm" modal="true" >
                    <h:form id="editarAutor" >
                        <p:messages id="msm"/>
                        <p:tabView id="tabViewDatosAutor" rendered="#{administrarAutoresProyecto.renderedDlgEditarAutorProyecto}">
                            <p:ajax event="tabChange" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update="tblExpedientes,crearExpediente,:dlgEditarDocumentoExpediente,:editarExpediente:tblDocumentos,:editarExpediente:crearDocumento" listener="#{administrarAutoresProyecto.onTabChange}"/>
                            <p:tab title="#{msg['lbl.informacion']}">
                                <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-4,col-sm-8"  columns="2">
                                    <f:facet name="header">
                                        <p:graphicImage id="foto" cache="false"  height="100" width="100" value="/AppServlet?id=#{sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera.estudianteId.persona.id}&amp;entity=Persona"/>
                                    </f:facet>
                                    <h:outputLabel value="#{msg['lbl.fecha']} #{msg['lbl.inicio']}:"/>
                                    <h:outputText value="#{sessionAutorProyecto.autorProyecto.fechaInicio}">
                                        <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                    </h:outputText>
                                    <h:outputLabel value="#{msg['lbl.fechaCulminación']}:"/>
                                    <h:outputText value="#{sessionAutorProyecto.autorProyecto.fechaCulminacion}">
                                        <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                    </h:outputText>
                                    <h:outputLabel value="#{msg['lbl.estado']}:"/>
                                    <h:outputText value="#{sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera.estadoEstudianteCarrera.nombre}"/>
                                    <h:outputLabel value="#{msg['lbl.carrera']}:"/>
                                    <h:outputText value="#{sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera.carreraId.nombre}"/>
                                    <h:outputLabel value="#{msg['lbl.fechaIngreso']}:"/>
                                    <h:outputText value="#{administrarEstudiantesCarrera.obtenerPrimerMatricula(sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera).ofertaAcademica.fechaInicio}">
                                        <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                    </h:outputText>
                                    <h:outputLabel value="#{msg['lbl.ultimoModuloAprobado']}:"/>
                                    <h:outputText value="#{administrarEstudiantesCarrera.obtenerMatriculaUltima(sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera).numeroModuloMatriculado} #{administrarEstudiantesCarrera.obtenerMatriculaUltima(sessionEstudianteCarrera.estudianteCarrera).paralelo}"/>
                                    <h:outputLabel value="#{msg['lbl.fechaCulminación']} #{msg['lbl.estudios']}:"/>
                                    <h:outputText value="#{administrarEstudiantesCarrera.obtenerMatriculaUltima(sessionAutorProyecto.autorProyecto.aspiranteId.estudianteCarrera).ofertaAcademica.fechaFin}">
                                        <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                    </h:outputText>
                                </h:panelGrid>
                            </p:tab>
                            <p:tab id="tabExpedientes" title="#{msg['lbl.expediente']}">
                                <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                                    <h:panelGrid styleClass="panelgrid"   columns="1">
                                        <p:commandButton update="tblExpedientes,:editarAutor:msm" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarExpedientes.buscarExpedientes(sessionAutorProyecto.autorProyecto)}" value="#{msg['lbl.buscar']}" icon="ui-icon-search" />
                                    </h:panelGrid>
                                </p:panel>
                                <p:panel>
                                    <p:dataTable id="tblExpedientes" value="#{administrarExpedientes.expedientes}" var="expediente" rows="2" paginator="true"
                                                 rowIndexVar="rowIx"  rowKey="#{expediente.fecha}" selection="#{sessionExpediente.expediente}" selectionMode="single"  rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                        <p:column sortBy="#{expediente.fecha}">
                                            <f:facet name="header">
                                                <h:outputText value="#{msg['lbl.creacion']}"/>
                                            </f:facet>
                                            <p:commandLink value="#{administrarConfiguraciones.timestamp(expediente.fecha)}" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" update=":editarExpediente,:editarAutor:msm" action="#{administrarExpedientes.editar(expediente)}">
                                                <f:param name="1" value="editar-dlg"/>
                                            </p:commandLink>
                                        </p:column>
                                        <p:column sortBy="#{expediente.nombre}" rendered="#{administrarExpedientes.renderedNoEditar}">
                                            <f:facet name="header">
                                                <h:outputText value="#{msg['lbl.nombre']}"/>
                                            </f:facet>
                                            <h:outputText value="#{expediente.nombre}" />
                                        </p:column>
                                        <p:column sortBy="#{expediente.nombre}" rendered="#{administrarExpedientes.renderedEditar}">
                                            <f:facet name="header">
                                                <h:outputText value="#{msg['lbl.nombre']}"/>
                                            </f:facet>
                                            <p:commandLink value="#{expediente.nombre}" update=":editarExpediente,:editarAutor:msm" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarExpedientes.editar(expediente)}">
                                                <f:param name="1" value="editar-dlg"/>
                                            </p:commandLink>
                                        </p:column>
                                        <p:column rendered="#{administrarExpedientes.renderedEliminar}" >
                                            <f:facet name="header">
                                                <h:outputText value="#{msg['lbl.eliminar']}"/>
                                            </f:facet>
                                            <p:commandButton icon="ui-icon-trash" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" onclick="if (!confirm('¿#{msg['lbl.confirmarEliminar']}?'))
                                                        return false;" action="#{administrarExpedientes.remover(expediente)}" update="tblExpedientes"/>
                                        </p:column>
                                    </p:dataTable>
                                    <f:facet name="footer">
                                        <h:panelGrid id="crearExpediente" >
                                            <p:commandButton value="#{msg['lbl.crear']}" rendered="#{administrarExpedientes.renderedCrear}" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" icon="ui-icon-newwin" update=":editarExpediente" action="#{administrarExpedientes.crear()}">
                                                <f:param name="1" value="crear-dlg"/>
                                            </p:commandButton>
                                        </h:panelGrid>
                                    </f:facet>
                                </p:panel>
                            </p:tab>
                        </p:tabView>
                    </h:form>
                </p:dialog>

                <!--*****************************************************Dialogo editar Expediente**************************************************************-->

                <p:dialog id="dlgEditarExpediente" header="#{msg['lbl.editar']} #{msg['lbl.expediente']}"  widgetVar="dlgEditarExpediente"  modal="true" styleClass="modal-md"  >
                    <h:form id="editarExpediente">
                        <p:messages id="msm"/>
                        <p:panel  header="#{msg['lbl.datos']} #{msg['lbl.inicio']}">
                            <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-2,col-sm-9,col-sm-1" columns="3">
                                <h:outputLabel value="#{msg['lbl.nombre']}:"/>
                                <p:inputText id="nombre" required="true" value="#{sessionExpediente.expediente.nombre}">
                                    <p:ajax event="keyup" update="msmNombre" />
                                    <p:ajax event="change" update="@this,msm"/>
                                </p:inputText>
                                <p:message id="msmNombre" display="icon" for="nombre"/>
                                <h:outputLabel value="#{msg['lbl.observacion']}"/>
                                <p:inputTextarea id="observacion" required="true" requiredMessage="#{msg['lbl.observacion']} #{msg['lbl.obligatorio']}" cols="40" rows="5" value="#{sessionExpediente.expediente.observacion}">
                                    <p:ajax event="keyup" update="msmObservacion" />
                                    <p:ajax event="change" update="@this,msm"/>
                                </p:inputTextarea>
                                <p:message id="msmObservacion" display="icon" for="observacion"/>
                            </h:panelGrid>
                        </p:panel>
                        <p:panel rendered="#{administrarDocumentosExpediente.renderedBuscar()}" header="#{msg['lbl.documentos']}">
                            <p:dataTable id="tblDocumentos" value="#{sessionExpediente.expediente.documentoExpedienteList}" var="doc" rows="4" paginator="true"
                                         rowIndexVar="rowIx"  rowKey="#{doc.catalogoDocumentoExpedienteId.nombre}" selectionMode="single" selection="#{doc}" editable="true" editMode="cell" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">

                                <p:column rendered="#{administrarDocumentosExpediente.renderedNoEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.categoria']}"/>
                                    </f:facet>
                                    <h:outputText value="#{doc.catalogoDocumentoExpedienteId.nombre}"/>
                                </p:column>
                                <p:column rendered="#{administrarDocumentosExpediente.renderedEditar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.categoria']}"/>
                                    </f:facet>
                                    <p:commandLink action="#{administrarDocumentosExpediente.editar(doc)}" update=":editarDocumentoExpediente,:dlgEditarDocumentoExpediente" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" value="#{doc.catalogoDocumentoExpedienteId.nombre}">
                                        <f:param name="1" value="editar-dlg"/>
                                    </p:commandLink>
                                </p:column>
                                <p:column rendered="#{administrarDocumentosExpediente.renderedEliminar}">
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.eliminar']}"/>
                                    </f:facet>
                                    <p:commandButton icon="ui-icon-trash" onclick="if (!confirm('¿#{msg['lbl.confirmarEliminar']}?'))
                                                return false;" action="#{administrarDocumentosExpediente.remover(doc)}" update="tblDocumentos"/>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <h:panelGrid >
                                    <p:commandButton value="#{msg['lbl.crear']}" rendered="#{administrarDocumentosExpediente.renderedCrear}" icon="ui-icon-newwin" update="@form,:editarDocumentoExpediente" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarDocumentosExpediente.crear()}">
                                        <f:param name="1" value="crear-dlg"/>
                                    </p:commandButton>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                        <br/>
                        <h:panelGrid id="crearDocumento" styleClass="pnl-botones">
                            <p:commandButton value="#{msg['lbl.agregar']}" icon="ui-icon-circle-plus" update="@form,:editarAutor:tabViewDatosAutor:tblExpedientes" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarExpedientes.agregar(sessionExpediente.expediente)}">
                                <f:param name="1" value="agregar-dlg"/>
                            </p:commandButton>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>

                <!--****************************************************************DIALOGO EDITAR DOCUMENTO EXPEDIENTE*******************************************************************************-->
                <p:dialog id="dlgEditarDocumentoExpediente"  header="#{msg['lbl.editar']} #{msg['lbl.documento']}"   widgetVar="dlgEditarDocumentoExpediente" modal="true" styleClass="modal-md" >
                    <h:form id="editarDocumentoExpediente">
                        <p:messages id="msm"/>
                        <p:panel rendered="#{administrarDocumentosExpediente.renderedDlgEditar}">
                            <div class="row">
                                <div class="col-sm-4">
                                    <p:media value="/AppServlet?id=#{sessionDocumentoExpediente.documentoExpediente.id}&amp;entity=DocumentoExpediente" player="pdf" width="100%" height="250"/>
                                    <br/>
                                    <h:panelGrid class="pnl-botones">
                                        <p:commandButton value="#{msg['lbl.subir']}" icon="ui-icon-refresh" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" onclick="PF('dlgSubirDocumentoExpediente').show();"/>
                                    </h:panelGrid>
                                </div>
                                <div class="col-sm-8">
                                    <h:panelGrid  styleClass="panelgrid" style="background: #f4f4f4" rowClasses="rowpanelgrid" columnClasses="col-sm-2,col-sm-9,col-sm-1" columns="3">
                                        <h:outputLabel value="#{msg['lbl.descripcion']}:"/>
                                        <p:inputTextarea id="descripcion" required="true" requiredMessage="#{msg['lbl.descripcion']} #{msg['lbl.obligatorio']}." cols="40" rows="5" value="#{sessionDocumentoExpediente.documentoExpediente.descripcion}">
                                            <p:ajax event="keyup" update="msmDescripcion" />
                                            <p:ajax event="change" update="@this,msm"/>
                                        </p:inputTextarea>
                                        <p:message id="msmDescripcion" display="icon" for="descripcion"/>
                                        <h:outputLabel value="#{msg['lbl.categoria']}:"/>
                                        <p:selectOneMenu id="catalogo" value="#{administrarDocumentosExpediente.catalogoDocumentoExpediente}" required="true" requiredMessage="#{msg['lbl.categoria']} #{msg['lbl.obligatorio']}.">
                                            <!-- TODO: update below reference to list of available items-->
                                            <f:selectItems value="#{administrarDocumentosExpediente.listadoCatalogos()}"/>
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                </div>
                            </div>
                            <f:facet name="footer">
                                <h:panelGrid >
                                    <p:commandButton value="#{msg['lbl.agregar']}" icon="ui-icon-circle-plus" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" update="@form,:editarExpediente:tblDocumentos,:editarExpediente:msm" action="#{administrarDocumentosExpediente.agregar(sessionDocumentoExpediente.documentoExpediente)}">
                                        <f:param name="1" value="agregar-dlg"/>
                                    </p:commandButton>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <h:form id="subirDocumentoExpediente" enctype="multipart/form-data">
                    <p:dialog header="#{msg['lbl.subir']} #{msg['lbl.documento']}" widgetVar="dlgSubirDocumentoExpediente" modal="true"  styleClass="modal-sm"  >
                        <p:panel header="#{msg['lbl.subir']} #{msg['lbl.documento']}">
                            <h:panelGrid columns="1">
                                <p:fileUpload  fileUploadListener="#{administrarDocumentosExpediente.handleFileUpload}"  
                                               update=":editarDocumentoExpediente:msm" multiple="false" mode="advanced"
                                               allowTypes="/(\.|\/)(pdf)$/" sizeLimit="#{administrarConfiguraciones.tamanioPermitidoArchivos}" invalidFileMessage="#{msg['lbl.invalidTypeFileMessage']}"
                                               cancelLabel="#{msg['lbl.cancelar']}"  invalidSizeMessage="#{msg['lbl.fileLimitMessage']}"  label="#{msg['lbl.seleccionar']}" uploadLabel="#{msg['lbl.subir']}" oncomplete="dlgSubirDocumentoExpediente.hide()">
                                </p:fileUpload>
                            </h:panelGrid>
                        </p:panel>

                    </p:dialog>
                </h:form>
                <!--********************************************************Dialogo DE EDITAR ESTUDIANTE************************************************************************-->

                <p:dialog id="dlgEstudiante" header="#{msg['lbl.editar']} #{msg['lbl.estudiante']}"  widgetVar="dlgEditarEstudiante" styleClass="modal-md" modal="true"  >
                    <h:form id="editarEstudiante">
                        <p:panel >
                            <p:messages id="msm" showDetail="true"/>
                            <p:tabView id="tabViewDatosEstudiante">
                                <p:tab title="#{msg['lbl.datos']} #{msg['lbl.personales']}">
                                    <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-2,col-sm-8,col-sm-1,col-sm-1" columns="4">
                                        <f:facet name="header">
                                            <p:graphicImage id="foto" cache="false" styleClass="img-thumbnail" height="100" width="100" value="/AppServlet?id=#{sessionEstudiante.estudiante.persona.id}&amp;entity=Persona"/>
                                        </f:facet>
                                        <h:outputLabel value="#{msg['lbl.ci']}:" for="numeroIdentificacion" />
                                        <p:inputText  id="numeroIdentificacion"  value="#{sessionEstudiante.estudiante.persona.numeroIdentificacion}" title="#{msg['lbl.ci']}" required="true" requiredMessage="#{msg['lbl.ci']} #{msg['lbl.obligatorio']}.">
                                            <p:ajax event="keyup" update="msmNumeroIdentificacion" />
                                            <p:ajax event="change" update="@this,:contenido:msm"/>
                                        </p:inputText>
                                        <p:fragment autoUpdate="true">
                                            <p:commandButton icon="ui-icon-arrowthickstop-1-s" value="#{msg['lbl.sincronizar']}" update=":editarEstudiante:tabViewDatosEstudiante,:editarEstudiante:msm" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarEstudiantes.sgaWebServicesDatosEstudiante(sessionEstudiante.estudiante)}"/>
                                        </p:fragment>
                                        <p:message id="msmNumeroIdentificacion" display="icon" for="numeroIdentificacion"/>
                                        <h:outputLabel  value="#{msg['lbl.nombres']}:" for="nombres" />
                                        <p:inputText id="nombres" value="#{sessionEstudiante.estudiante.persona.nombres}" title="#{msg['lbl.nombres']}" required="true" requiredMessage="#{msg['lbl.nombres']} #{msg['lbl.obligatorio']}.">
                                            <p:ajax event="keyup" update="msmNombres"/>
                                            <p:ajax event="change" update="@this,:contenido:msm"/>
                                        </p:inputText>
                                        <h:inputHidden/>
                                        <p:message id="msmNombres" display="icon" for="nombres"/>
                                        <h:outputLabel  value="#{msg['lbl.apellidos']}:" for="apellidos" />
                                        <p:inputText  id="apellidos" value="#{sessionEstudiante.estudiante.persona.apellidos}" title="#{msg['lbl.apellidos']}" required="true" requiredMessage="#{msg['lbl.apellidos']} #{msg['lbl.obligatorio']}.">
                                            <p:ajax event="keyup" update="msmApellidos"/>
                                            <p:ajax event="change" update="@this,:contenido:msm"/>
                                        </p:inputText>
                                        <h:inputHidden/>
                                        <p:message id="msmApellidos" display="icon" for="apellidos"/>
                                        <h:outputLabel value="#{msg['lbl.email']}:" for="email" />
                                        <p:inputText placeholder="Email" id="email" value="#{sessionEstudiante.estudiante.persona.email}" title="#{msg['lbl.email']}" required="true" requiredMessage="#{msg['lbl.email']} #{msg['lbl.obligatorio']}.">
                                            <p:ajax event="keyup" update="msmEmail"/>
                                            <p:ajax event="change" update="@this,:contenido:msm"/>
                                        </p:inputText>
                                        <h:inputHidden/>
                                        <p:message id="msmEmail" display="icon" for="email"/>
                                        <h:outputLabel value="#{msg['lbl.fechaNacimiento']}:" for="fechaNacimiento" />
                                        <p:calendar  id="fechaNacimiento"  yearRange="c-100:c+20" navigator="true" locale="es" pattern="dd/MM/yyyy" value="#{sessionEstudiante.estudiante.persona.fechaNacimiento}" title="#{msg['lbl.fechaNacimiento']}" required="true" requiredMessage="#{msg['lbl.fechaNacimiento']} #{msg['lbl.obligatorio']}.">
                                            <p:ajax event="dateSelect" update="msmFechaNacimiento"/>
                                            <p:ajax event="change" update="@this,:contenido:msm"/>
                                        </p:calendar>
                                        <h:inputHidden/>
                                        <p:message id="msmFechaNacimiento" display="icon" for="fechaNacimiento"/>
                                        <h:outputLabel value="#{msg['lbl.tipoDocId']}:" for="tipoDocumentoIdentificacionId" />
                                        <p:selectOneMenu  id="tipoDocumentoIdentificacionId" value="#{administrarEstudiantes.tipoDocumento}" required="true" requiredMessage="#{msg['lbl.tipoDocId']} #{msg['lbl.obligatorio']}.">
                                            <f:selectItems value="#{administrarEstudiantes.listadoTiposDocumentos()}"/>
                                            <p:ajax event="change" update="msmTipoDoc"/>
                                        </p:selectOneMenu>
                                        <h:inputHidden/>
                                        <p:message id="msmTipoDoc" for="tipoDocumentoIdentificacionId"/>
                                        <h:outputLabel  value="#{msg['lbl.genero']}:" for="generoId" />
                                        <p:selectOneMenu id="generoId" value="#{administrarEstudiantes.genero}" required="true" requiredMessage="#{msg['lbl.genero']} #{msg['lbl.obligatorio']}.">
                                            <!-- TODO: update below reference to list of available items-->
                                            <f:selectItems value="#{administrarEstudiantes.listadoGeneros()}"/>
                                            <p:ajax event="change" update="msmGenero"/>
                                        </p:selectOneMenu>
                                        <h:inputHidden/>
                                        <p:message id="msmGenero" for="generoId"/>
                                        <h:outputLabel  value="#{msg['lbl.activo']} :" for="activo" />
                                        <p:selectBooleanCheckbox id="activo" value="#{sessionEstudiante.estudiante.esActivo}"/>
                                    </h:panelGrid>
                                </p:tab>
                                <p:tab title="#{msg['lbl.carreras']}">
                                    <p:pickList id="carreras"  value="#{administrarEstudiantes.carrerasDualList}" var="items" itemLabel="#{items}" itemValue="#{items}" showSourceControls="true" showTargetControls="true" showCheckbox="true"
                                                showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains"  >
                                        <f:facet name="sourceCaption">#{msg['lbl.carreras']} #{msg['lbl.disponibles']}</f:facet>
                                        <f:facet name="targetCaption">#{msg['lbl.carreras']} #{msg['lbl.seleccionadas']}</f:facet>
                                        <p:ajax event="transfer" update=":editarEstudiante:tabViewDatosEstudiante" listener="#{administrarEstudiantes.transferEstudianteCarrera}"></p:ajax>
                                    </p:pickList>
                                </p:tab>
                                <p:tab id="tabInformacion" title="#{msg['lbl.informacion']} #{msg['lbl.estudio']}" rendered="#{administrarEstudiantes.renderedInformacionEstudio}">
                                    <p:dataGrid  value="#{administrarEstudiantes.buscarEstudianteCarreras(sessionEstudiante.estudiante)}"
                                                 id="dgEstudianteCarreras" var="item" columns="1" rows="1" paginator="true" 
                                                 paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                                 emptyMessage="#{msg['lbl.table.empty']}">

                                        <p:panel style="border: transparent" header="#{item.carreraId}">

                                            <h:panelGrid id="datosEstudianteCarrera" styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-1,col-sm-10"  columns="2" >
                                                <h:outputLabel value="#{msg['lbl.estado']}:"/>
                                                <h:outputText value="#{item.estadoEstudianteCarrera.nombre}"/>
                                                <h:outputLabel value="#{msg['lbl.fechaIngreso']}:"/>
                                                <h:outputText value="#{administrarEstudiantesCarrera.obtenerPrimerMatricula(item).ofertaAcademica.fechaInicio}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                </h:outputText>
                                                <h:outputLabel value="#{msg['lbl.ultimoModuloAprobado']}:"/>
                                                <h:outputText value="#{administrarEstudiantesCarrera.obtenerMatriculaUltima(item).numeroModuloMatriculado} #{administrarEstudiantesCarrera.obtenerMatriculaUltima(item).paralelo}"/>
                                                <h:outputLabel value="#{msg['lbl.fechaCulminación']}:"/>
                                                <h:outputText value="#{administrarEstudiantesCarrera.obtenerMatriculaUltima(item).ofertaAcademica.fechaFin}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                </h:outputText>
                                                <h:outputLabel id="lbEsApto" rendered="#{administrarEstudiantesCarrera.renderedEsAptoAspirante}" value="#{msg['lbl.esApto']}:"/>
                                                <p:selectBooleanCheckbox id="esApto" rendered="#{administrarEstudiantesCarrera.renderedEsAptoAspirante}" value="#{item.aspirante.esApto}">
                                                    <p:ajax onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" listener="#{administrarEstudiantesCarrera.esAptoEstudiante(item)}" update=":editarEstudiante:msm"/>
                                                </p:selectBooleanCheckbox>

                                            </h:panelGrid>
                                            <br/>
                                            <f:facet name="footer"> 
                                                <h:panelGrid  columns="3">
                                                    <p:commandButton  update="tblReporteMatriculas" icon="ui-icon-info" value="#{msg['lbl.matriculas']}" id="detalleMatriculas"/>
                                                    <p:commandButton update="tblReporteMatriculas,:editarEstudiante:msm" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" value="#{msg['lbl.sincronizar']}" action="#{administrarEstudiantesCarrera.sgaWebServicesEstudianteMatriculas(item,sessionUsuario.usuario)}" icon="ui-icon-arrowthickstop-1-s"/>
                                                    <p:commandButton value="#{msg['lbl.comprobar']}" update="datosEstudianteCarrera,esApto,:editarEstudiante:msm" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarEstudiantesCarrera.compruebaEsAspiranteApto(item)}"/>
                                                </h:panelGrid>
                                            </f:facet>
                                            <p:overlayPanel  my="right" showEffect="blind" appendToBody="true" for="detalleMatriculas"  styleClass="modal-md" hideEffect="fade">
                                                <p:dataTable id="tblReporteMatriculas"  value="#{administrarEstudiantesCarrera.listadoMatriculasEstudiante(item)}" var="rm" rows="4" paginator="true"
                                                             rowIndexVar="rowIx" resizableColumns="true"  rowKey="#{rm.matriculaId}" selection="#{rm}" selectionMode="single" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="#{msg['lbl.numero']} #{msg['lbl.matricula']}"/>
                                                        </f:facet>
                                                        <h:outputText value="#{rm.matriculaId}"/>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="#{msg['lbl.modulo']}"/>
                                                        </f:facet>
                                                        <h:outputText value="#{rm.moduloMatriculado}"/>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="#{msg['lbl.numero']} #{msg['lbl.modulo']}"/>
                                                        </f:facet>
                                                        <h:outputText value="#{rm.numeroModuloMatriculado}"/>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="#{msg['lbl.paralelo']}"/>
                                                        </f:facet>
                                                        <h:outputText value="#{rm.paralelo}"/>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="#{msg['lbl.periodoAcademico']}"/>
                                                        </f:facet>
                                                        <h:outputText value="#{administrarConfiguraciones.date(rm.ofertaAcademica.fechaInicio)}- #{administrarConfiguraciones.date(rm.ofertaAcademica.fechaFin)}"/>
                                                    </p:column>
                                                    <p:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="#{msg['lbl.estado']}"/>
                                                        </f:facet>
                                                        <h:outputText value="#{rm.estadoMatriculaId.nombre}"/>
                                                    </p:column>
                                                </p:dataTable>
                                            </p:overlayPanel>
                                        </p:panel>
                                    </p:dataGrid>
                                </p:tab>
                            </p:tabView>
                            <f:facet name="footer">
                                <h:panelGrid  columns="1">
                                    <p:commandButton value="#{msg['lbl.grabar']}" icon="ui-icon-disk" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" update=":buscarAspirantes:tblAspirantes,:editarEstudiante:msm,:editarEstudiante:tabViewDatosEstudiante" action="#{administrarEstudiantes.grabar(sessionEstudiante.estudiante)}">
                                        <f:param name="1" value="grabar-editar-dlg" />
                                    </p:commandButton>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <p:dialog id="dlgEditarDirectorProyecto" header="#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.persona.nombres} #{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.persona.apellidos}"  widgetVar="dlgEditarDirectorProyecto" modal="true" styleClass="modal-sm" >
                    <h:form id="editarDirectorProyecto">
                        <p:panel rendered="#{administrarDirectoresProyecto.renderedDlgEditar}">
                            <p:messages id="msm"/>
                            <p:tabView id="tabViewDatosDirector">
                                <p:tab title="#{msg['lbl.informacion']}">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <p:graphicImage id="foto" cache="false"  height="100" width="100" value="/AppServlet?id=#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.persona.id}&amp;entity=Persona"/>
                                        </div>
                                        <div class="col-sm-8">
                                            <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-3,col-sm-9" columns="2">
                                                <h:outputLabel value="#{msg['lbl.fecha']} #{msg['lbl.inicio']}:"/>
                                                <h:outputText value="#{sessionDirectorProyecto.directorProyecto.fechaInicio}">
                                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                                </h:outputText>
                                                <h:outputLabel value="#{msg['lbl.fechaCulminación']}:"/>
                                                <h:outputText value="#{sessionDirectorProyecto.directorProyecto.fechaCulminacion}">
                                                    <f:convertDateTime pattern="EEEEE dd MMMMM yyyy"/>
                                                </h:outputText>
                                                <h:outputLabel value="#{msg['lbl.ci']}:"/>
                                                <h:outputText value="#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.persona.numeroIdentificacion}"/>
                                                <h:outputLabel value="#{msg['lbl.fechaNacimiento']}:"/>
                                                <h:outputText value="#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.persona.fechaNacimiento}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                </h:outputText>
                                                <h:outputLabel value="#{msg['lbl.estado']} #{msg['lbl.laboral']}:"/>
                                                <h:outputText value="#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.estadoLaboralId.tipoContratoId.nombre}"/>
                                                <h:outputLabel value="#{msg['lbl.carrera']}:"/>
                                                <h:outputText value="#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.carreraId.nombre}"/>
                                            </h:panelGrid>
                                        </div>
                                    </div>
                                </p:tab>
                                <p:tab title="#{msg['lbl.lineasInvestigacion']}">
                                    <p:dataGrid id="dgLineasInvestigacionProyecto" var="lp"  paginator="true" rows="5" columns="1" paginatorPosition="bottom" value="#{sessionDirectorProyecto.directorProyecto.directorId.docenteCarrera.docenteId.lineaInvestigacionDocenteList}">
                                        <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-3,col-sm-9" columns="1">
                                            <p:commandLink id="detalle" value="#{lp.lineaInvestigacionId.nombre}"/>  
                                        </h:panelGrid>
                                        <p:overlayPanel  showEffect="blind" for="detalle"  hideEffect="fade">
                                            <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-2,col-sm-10" columns="2">
                                                <h:outputLabel value="#{msg['lbl.nombre']}:"/>
                                                <h:outputText value="#{lp.lineaInvestigacionId.nombre}"/>
                                                <h:outputLabel value="#{msg['lbl.descripcion']}:"/>
                                                <h:outputText value="#{lp.lineaInvestigacionId.descripcion}"/>
                                            </h:panelGrid>
                                        </p:overlayPanel>
                                    </p:dataGrid>
                                </p:tab>
                            </p:tabView>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <p:dialog id="dlgViewDp" header="#{msg['lbl.editar']} #{msg['lbl.docente']}"  widgetVar="dlgEditarDocenteProyecto" modal="true" styleClass="modal-sm" >
                    <h:form id="editarDocenteProyecto">
                        <p:panel rendered="#{administrarDocentesProyecto.renderedDlgEditar}">
                            <div class="row">
                                <div class="col-sm-4">
                                    <p:graphicImage id="foto" cache="false"  height="100" width="100" value="/AppServlet?id=#{sessionDocenteProyecto.docenteProyecto.docenteId.persona.id}&amp;entity=Persona"/>
                                </div>
                                <div class="col-sm-8">
                                    <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-3,col-sm-9" columns="2">
                                        <h:outputLabel value="#{msg['lbl.ci']}:"/>
                                        <h:outputText value="#{sessionDocenteProyecto.docenteProyecto.docenteId.persona.numeroIdentificacion}"/>
                                        <h:outputLabel value="#{msg['lbl.nombres']}:"/>
                                        <h:outputText value="#{sessionDocenteProyecto.docenteProyecto.docenteId.persona.nombres}"/>
                                        <h:outputLabel value="#{msg['lbl.apellidos']}:"/>
                                        <h:outputText value="#{sessionDocenteProyecto.docenteProyecto.docenteId.persona.apellidos}"/>
                                        <h:outputLabel value="#{msg['lbl.email']}:"/>
                                        <h:outputText value="#{sessionDocenteProyecto.docenteProyecto.docenteId.persona.email}"/>
                                        <h:outputLabel value="#{msg['lbl.fechaNacimiento']}:"/>
                                        <h:outputText value="#{sessionDocenteProyecto.docenteProyecto.docenteId.persona.fechaNacimiento}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </h:outputText>
                                        <h:outputLabel value="#{msg['lbl.estado']} #{msg['lbl.laboral']}:"/>
                                        <h:outputText value="#{sessionDocenteProyecto.docenteProyecto.docenteId.estadoLaboralId.tipoContratoId.nombre}"/>
                                    </h:panelGrid>
                                </div>
                            </div>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <p:dialog  header="#{msg['lbl.editar']} #{msg['lbl.renuncia']}"  widgetVar="dlgEditarRenunciaDirectorProyecto" modal="true" styleClass="modal-sm" >
                    <h:form id="editarRenunciaDirectorProyecto">
                        <h:panelGrid rowClasses="rowpanelgrid" styleClass="panelgrid" columnClasses="col-sm-3,col-sm-8,col-sm-1" columns="3">
                            <h:outputLabel value="#{msg['lbl.fecha']}:" for="fecha" />
                            <p:calendar  id="fecha"  navigator="true" locale="es" pattern="dd/MM/yyyy HH:mm:ss" value="#{sessionRenunciaDirector.renunciaDirector.renuncia.fecha}" title="#{msg['lbl.fecha']}" required="true" requiredMessage="#{msg['lbl.fecha']} #{msg['lbl.obligatorio']}.">
                                <p:ajax event="dateSelect" update="msmFecha"/>
                            </p:calendar>
                            <p:message id="msmFecha" for="fecha"/>
                            <h:outputLabel  value="#{msg['lbl.numero']}:" for="resolucion" />
                            <p:inputText id="resolucion" value="#{sessionRenunciaDirector.renunciaDirector.renuncia.numeroResolucion}" title="#{msg['lbl.numero']}" required="true" requiredMessage="#{msg['lbl.numero']} #{msg['lbl.obligatorio']}.">
                                <p:ajax event="keyup" update="msmResolucion"/>
                            </p:inputText>
                            <p:message id="msmResolucion" for="resolucion"/>
                            <h:outputLabel  value="#{msg['lbl.motivo']}:" for="motivo" />
                            <p:inputTextarea  id="motivo" value="#{sessionRenunciaDirector.renunciaDirector.renuncia.motivo}" title="#{msg['lbl.motivo']}" required="true" requiredMessage="#{msg['lbl.motivo']} #{msg['lbl.obligatorio']}.">
                                <p:ajax event="keyup" update="msmMotivo"/>
                            </p:inputTextarea>
                            <p:message id="msmMotivo" for="motivo"/>
                        </h:panelGrid>
                        <br/>
                        <h:panelGrid styleClass="pnl-botones">
                            <p:commandButton value="#{msg['lbl.grabar']}" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update="@form,:contenido:tabViewDatosProyecto:tblDirectores" action="#{administrarRenunciasDirector.grabar(sessionRenunciaDirector.renunciaDirector,sessionUsuario.usuario,sessionProyecto.proyecto,sessionDirectorProyecto.directorProyecto)}" icon="ui-icon-disk">
                                <f:param name="1" value="grabar-dlg"/>
                            </p:commandButton>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>

                <p:dialog header="#{msg['lbl.editar']} #{msg['lbl.renuncia']}"  widgetVar="dlgEditarRenunciaAutorProyecto" modal="true" styleClass="modal-sm" >
                    <h:form id="editarRenunciaAutorProyecto">
                        <h:panelGrid styleClass="modal-body" rowClasses="rowpanelgrid" columnClasses="col-sm-2,col-sm-9,col-sm-1" columns="3">
                            <h:outputLabel value="#{msg['lbl.fecha']}:" for="fecha" />
                            <p:calendar  id="fecha"  navigator="true" locale="es" pattern="dd/MM/yyyy HH:mm:ss" value="#{sessionRenunciaAutor.renunciaAutor.renuncia.fecha}" title="#{msg['lbl.fecha']}" required="true" requiredMessage="#{msg['lbl.fecha']} #{msg['lbl.obligatorio']}.">
                                <p:ajax event="dateSelect" update="msmFecha"/>
                            </p:calendar>
                            <p:message id="msmFecha" for="fecha"/>
                            <h:outputLabel  value="#{msg['lbl.numero']}:" for="resolucion" />
                            <p:inputText id="resolucion" value="#{sessionRenunciaAutor.renunciaAutor.renuncia.numeroResolucion}" title="#{msg['lbl.numero']}" required="true" requiredMessage="#{msg['lbl.numero']} #{msg['lbl.obligatorio']}.">
                                <p:ajax event="keyup" update="msmResolucion"/>
                            </p:inputText>
                            <p:message id="msmResolucion" for="resolucion"/>
                            <h:outputLabel  value="#{msg['lbl.motivo']}:" for="motivo" />
                            <p:inputTextarea  id="motivo" value="#{sessionRenunciaAutor.renunciaAutor.renuncia.motivo}" title="#{msg['lbl.motivo']}" required="true" requiredMessage="#{msg['lbl.motivo']} #{msg['lbl.obligatorio']}.">
                                <p:ajax event="keyup" update="msmMotivo"/>
                            </p:inputTextarea>
                            <p:message id="msmMotivo" for="motivo"/>
                        </h:panelGrid>
                        <br/>
                        <h:panelGrid styleClass="pnl-botones">
                            <p:commandButton value="#{msg['lbl.grabar']}"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarRenunciasAutor.grabar(sessionRenunciaAutor.renunciaAutor, sessionUsuario.usuario, sessionProyecto.proyecto, sessionAutorProyecto.autorProyecto)}" update=":contenido:tabViewDatosProyecto:tblAutores" icon="ui-icon-disk">
                                <f:param name="1" value="grabar-dlg"/>
                            </p:commandButton>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
                <!--*************************************************************FORMULARIO EDITAR PRÓRROGA************************************************++-->

                <p:dialog id="dlgEditarProrroga" header="#{msg['lbl.editar']} #{msg['lbl.prorroga']}"  styleClass="modal-sm" widgetVar="dlgEditarProrroga" modal="true">
                    <h:form id="editarProrroga">
                        <p:panel rendered="#{administrarProrrogas.renderedDlgEditar}">
                            <p:messages id="msm"/>
                            <h:panelGrid columns="3" styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-3,col-sm-8,col-sm-1">
                                <h:outputLabel value="#{msg['lbl.fecha']}:"/>
                                <p:calendar id="fecha"  navigator="true" locale="es" pattern="dd/MM/yyyy" value="#{sessionProrroga.prorroga.fecha}" title="#{msg['lbl.fecha']}" required="true" requiredMessage="#{msg['lbl.fecha']} #{msg['lbl.obligatorio']}.">
                                    <p:ajax event="dateSelect" update="msmFecha"/>
                                    <p:ajax event="change" update="@this,msm"/>
                                </p:calendar>
                                <p:message id="msmFecha" display="icon" for="fecha"/>
                                <h:outputLabel  value="#{msg['lbl.motivo']}:" for="motivo" />
                                <p:inputTextarea  id="motivo" value="#{sessionProrroga.prorroga.motivo}" title="#{msg['lbl.motivo']}" required="true" requiredMessage="#{msg['lbl.motivo']} #{msg['lbl.obligatorio']}.">
                                    <p:ajax event="keyup" update="msmMotivo"/>
                                    <p:ajax event="change" update="@this,msm"/>
                                </p:inputTextarea>
                                <p:message id="msmMotivo" display="icon" for="motivo"/>
                                <h:outputLabel rendered="#{administrarProrrogas.renderedAceptarProrroga}" value="#{msg['lbl.aceptar']}:" for="aceptar" />
                                <p:selectBooleanCheckbox rendered="#{administrarProrrogas.renderedAceptarProrroga}" value="#{sessionProrroga.prorroga.esAceptado}"/>
                                <h:inputHidden/>
                                <h:outputLabel rendered="#{administrarProrrogas.renderedAceptarProrroga}" value="#{msg['lbl.observacion']}:" for="observacion" />
                                <p:inputTextarea id="observacion" rendered="#{administrarProrrogas.renderedAceptarProrroga}" value="#{sessionProrroga.prorroga.observacion}" title="#{msg['lbl.observacion']}" required="true" requiredMessage="#{msg['lbl.observacion']} #{msg['lbl.obligatorio']}.">
                                    <p:ajax event="keyup" update="msmObservacion"/>
                                    <p:ajax event="change" update="@this,msm"/>
                                </p:inputTextarea>
                                <p:message id="msmObservacion" display="icon" for="observacion"/>
                            </h:panelGrid>
                            <br/>
                            <h:panelGrid styleClass="pnl-botones" columns="1">
                                <p:commandButton  value="#{msg['lbl.grabar']}" icon="ui-icon-disk" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update="@form,:contenido:tabViewDatosProyecto:tblProrrogas,msm,:contenido:msm" action="#{administrarProrrogas.grabar(sessionProrroga.prorroga, sessionProyecto.proyecto, sessionUsuario.usuario)}">
                                    <f:param  name="1" value="grabar" />  
                                </p:commandButton>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <p:confirmDialog   severity="alert" message="#{msg['lbl.falta']} #{msg['lbl.requisitos']} #{msg['lbl.autor']}: #{administrarProyectos.autorRequisitos}"   widgetVar="confirmRequisitos"  showEffect="fade" hideEffect="explode">
                    <h:form>
                        <p:commandButton value="#{msg['lbl.continuar']}" onstart="PF('dlgLoading').show()"   styleClass="ui-confirmdialog-yes"  update=":contenido:msm"  action="#{administrarProyectos.grabar(sessionProyecto.proyecto,sessionTemaProyecto.temaProyecto)}" oncomplete="confirmRequisitos.hide(),PF('dlgLoading').hide()" icon="ui-icon-check-w">
                            <f:param name="1" value="guardar"/>
                        </p:commandButton>
                        <p:commandButton value="#{msg['lbl.cancelar']}" type="button" onclick="PF('confirmRequisitos').hide();" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </h:form>
                </p:confirmDialog>
                <p:confirmDialog  severity="alert" message="#{msg['lbl.falta']} #{msg['lbl.requisitos']} #{msg['lbl.autor']}: #{administrarProyectos.autorRequisitos}"  widgetVar="confirmRequisitos1" showEffect="fade" hideEffect="explode">
                    <h:form>
                        <p:commandButton value="#{msg['lbl.continuar']}" onstart="PF('dlgLoading').show()"  styleClass="ui-confirmdialog-yes"  update=":contenido:msm"  action="#{administrarProyectos.grabar(sessionProyecto.proyecto,sessionTemaProyecto.temaProyecto)}" oncomplete="confirmRequisitos1.hide(),PF('dlgLoading').hide()" icon="ui-icon-check-w">
                            <f:param name="1" value="guardar-editar"/>
                        </p:commandButton>
                        <p:commandButton value="#{msg['lbl.cancelar']}" type="button"  onclick="PF('confirmRequisitos1').hide();" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </h:form>
                </p:confirmDialog>
                <p:confirmDialog message="#{msg['lbl.messageNoCoincidenLIDp']}"  widgetVar="confirmLineasInvestigacion" severity="alert" showEffect="fade" hideEffect="explode">
                    <h:form>
                        <p:commandButton value="#{msg['lbl.continuar']}" onstart="PF('dlgLoading').show()" styleClass="ui-confirmdialog-yes"  update=":contenido:msm"  action="#{administrarProyectos.grabar(sessionProyecto.proyecto,sessionTemaProyecto.temaProyecto)}" oncomplete="confirmLineasInvestigacion.hide(),PF('dlgLoading').hide()" icon="ui-icon-check-w">
                            <f:param name="1" value="guardar"/>
                        </p:commandButton>
                        <p:commandButton value="#{msg['lbl.cancelar']}" type="button" onclick="PF('confirmLineasInvestigacion').hide();" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </h:form>
                </p:confirmDialog>
                <p:confirmDialog  message="#{msg['lbl.messageNoCoincidenLIDp']}"  widgetVar="confirmLineasInvestigacion1" severity="alert" showEffect="fade" hideEffect="explode">
                    <h:form>
                        <p:commandButton value="#{msg['lbl.continuar']}" onstart="PF('dlgLoading').show()"  styleClass="ui-confirmdialog-yes"  update=":contenido:msm"  action="#{administrarProyectos.grabar(sessionProyecto.proyecto,sessionTemaProyecto.temaProyecto)}" icon="ui-icon-check-w" oncomplete="confirmLineasInvestigacion1.hide(),PF('dlgLoading').hide()">
                            <f:param name="1" value="guardar-editar"/>
                        </p:commandButton>
                        <p:commandButton value="#{msg['lbl.cancelar']}" type="button"  onclick="PF('confirmLineasInvestigacion1').hide();" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </h:form>
                </p:confirmDialog>

                <!--**************************************************Dialogo Oficio Docente Proyecto*************************************-->

                <p:dialog id="dlgOficioDocenteProyecto" widgetVar="dlgOficioDocenteProyecto" header="#{msg['lbl.oficio']}" styleClass="modal-md"  modal="true" >
                    <h:form id="oficioDocenteProyecto" >
                        <p:panel rendered="#{administrarDocentesProyecto.renderedDlgOficioDocenteProyecto}">
                            <p:media id="image" value="/AppServlet?id=#{administrarDocentesProyecto.docenteProyectoId}&amp;entity=oficioDocenteProyecto&amp;usuarioId=#{sessionUsuario.usuario.id}&amp;carreraId=#{administrarDocentesProyecto.carreraId}" player="pdf" width="100%" height="400"/>
                            <f:facet name="footer">
                                <h:panelGrid  columns="2" columnClasses="col-sm-1">
                                    <p:commandLink  title="#{msg['lbl.descargar']}" ajax="false" action="#{administrarDocentesProyecto.downloadDocx(sessionUsuario.usuario)}">
                                        <p:graphicImage height="25" width="25" value="/resources/img/icon_word.png"/>
                                    </p:commandLink>
                                    <p:commandButton value="#{msg['lbl.subir']}" icon="ui-icon-upload" onclick="PF('dlgSubirOficio').show()" rendered="#{sessionOficioCarrera.oficioCarrera.id !=null}"/>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <!--**************************************************Dialogo Oficio Miembro Privada*************************************-->

                <p:dialog id="dlgOficioMiembroTribunalSprivada" widgetVar="dlgOficioMiembroTribunalSprivada" header="#{msg['lbl.oficio']}" styleClass="modal-md"  modal="true" >
                    <h:form id="oficioMiembroTribunalSprivada" >
                        <p:panel rendered="#{administrarMiembrosTribunal.renderedDlgOficio}">
                            <p:media value="/AppServlet?id=#{administrarMiembrosTribunal.miembroId}&amp;entity=oficioMiembroTribunalSprivada&amp;usuarioId=#{sessionUsuario.usuario.id}&amp;carreraId=#{administrarMiembrosTribunal.carreraId}" player="pdf" width="100%" height="400"/>
                            <br/>
                            <h:panelGrid styleClass="pnl-botones" columns="2" columnClasses="col-sm-1">
                                <p:commandLink  title="#{msg['lbl.descargar']}" ajax="false" action="#{administrarMiembrosTribunal.descargarOficioMiembroTribunalPrivada()}">
                                    <p:graphicImage height="25" width="25" value="/resources/img/icon_word.png"/>
                                </p:commandLink>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <!--**************************************************Dialogo Oficio Miembro Tribunal Publica*************************************-->

                <p:dialog id="dlgOficioMiembroTribunalSpublica"  widgetVar="dlgOficioMiembroTribunalSpublica"  header="#{msg['lbl.oficio']}" styleClass="modal-md"  modal="true" >
                    <h:form id="oficioMiembroTribunalSpublica" >
                        <p:panel rendered="#{administrarMiembrosTribunal.renderedDlgOficio}">
                            <p:media value="/AppServlet?id=#{administrarMiembrosTribunal.miembroId}&amp;entity=oficioMiembroTribunalSpublica&amp;usuarioId=#{sessionUsuario.usuario.id}&amp;carreraId=#{administrarMiembrosTribunal.carreraId}" player="pdf" width="100%" height="400"/>
                            <br/>
                            <h:panelGrid styleClass="pnl-botones" columns="2" columnClasses="col-sm-1">
                                <p:commandLink  title="#{msg['lbl.descargar']}" ajax="false" action="#{administrarMiembrosTribunal.descargarOficioMiembroTribunalPrivada()}">
                                    <p:graphicImage height="25" width="25" value="/resources/img/icon_word.png"/>
                                </p:commandLink>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <!--**************************************************Dialogo Oficio Director Prorroga*************************************-->
                <p:dialog id="dlgOficioDirectorProrroga" widgetVar="dlgOficioDirectorProrroga"   header="#{msg['lbl.oficio']}" styleClass="modal-md"  modal="true" >
                    <h:form id="oficioDirectorProrroga">
                        <p:panel rendered="#{administrarProrrogas.renderedDlgOficio}">
                            <p:media value="/AppServlet?id=#{administrarProrrogas.prorrogaId}&amp;entity=oficioDirectorProrroga&amp;usuarioId=#{sessionUsuario.usuario.id}&amp;carreraId=#{administrarProrrogas.carreraId}" player="pdf" width="100%" height="400"/>
                            <br/>
                            <h:panelGrid styleClass="pnl-botones" columns="2" columnClasses="col-sm-1">
                                <p:commandLink  title="#{msg['lbl.descargar']}" ajax="false" action="#{administrarProrrogas.downloadDocx(sessionUsuario.usuario)}">
                                    <p:graphicImage height="25" width="25" value="/resources/img/icon_word.png"/>
                                </p:commandLink>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <!--**************************************************Dialogo Respuesta Prorroga a Autor*************************************-->
                <p:dialog id="dlgRespuestaProrrogaAutorProyecto" widgetVar="dlgRespuestaProrrogaAutorProyecto"   header="#{msg['lbl.oficio']}" styleClass="modal-sm"  modal="true" >
                    <h:form id="respuestaProrrogaAutorProyecto">
                        <p:panel rendered="#{administrarProrrogas.renderedDlgRespuestaAutorProyecto}">
                            <p:media value="/AppServlet?id=#{administrarProrrogas.prorrogaId}&amp;entity=responseProrrogaAutorProyecto&amp;usuarioId=#{sessionUsuario.usuario.id}&amp;carreraId=#{administrarProrrogas.carreraId}" player="pdf" width="100%" height="400"/>
                            <br/>
                            <h:panelGrid styleClass="pnl-botones" columns="2" columnClasses="col-sm-1">
                                <p:commandLink  title="#{msg['lbl.descargar']}" ajax="false" action="#{administrarProrrogas.downloadResponseDocx(sessionUsuario.usuario)}">
                                    <p:graphicImage height="25" width="25" value="/resources/img/icon_word.png"/>
                                </p:commandLink>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <!--**************************************************Dialogo Oficio Director Proyecto*************************************-->
                <h:form id="oficioDirectorProyecto" >
                    <p:dialog  widgetVar="dlgOficioDirectorProyecto" rendered="#{administrarDirectoresProyecto.renderedDlgOficio}"   header="#{msg['lbl.oficio']}" styleClass="modal-md"  modal="true" >
                        <p:media value="/AppServlet?id=#{administrarDirectoresProyecto.directorProyectoId}&amp;entity=oficioDirectorProyecto&amp;usuarioId=#{sessionUsuario.usuario.id}&amp;carreraId=#{administrarDirectoresProyecto.carreraId}" player="pdf" width="100%" height="400"/>
                        <br/>
                        <h:panelGrid styleClass="pnl-botones" columns="2" columnClasses="col-sm-1">
                            <p:commandLink ajax="false" title="#{msg['lbl.descargar']}" action="#{administrarDirectoresProyecto.descargarOficio(sessionUsuario.usuario)}">
                                <p:graphicImage height="25" width="25" value="/resources/img/icon_word.png"/>
                            </p:commandLink>
                        </h:panelGrid>
                    </p:dialog>
                </h:form>

                <!--************************************EDITAR TRIBUNAL**********************************************-->
                <p:dialog id="dlgEditarTribunal" widgetVar="dlgEditarTribunal" header="#{msg['lbl.editar']} #{msg['lbl.tribunal']}" styleClass="modal-md"  modal="true" >
                    <h:form id="editarTribunal" >
                        <p:panel rendered="#{administrarTribunales.renderedDlgEditar}">
                            <p:messages id="msm"/>
                            <h:panelGrid columns="3" rowClasses="rowpanelgrid" styleClass="panelgrid" columnClasses="col-sm-3,col-sm-8,col-sm-1">
                                <h:outputLabel value="#{msg['lbl.descripcion']}:" for="descripción"/>
                                <p:inputTextarea id="descripcion" style="text-transform: none" validatorMessage="#{msg['lbl.formato_invalido']}" title="#{msg['lbl.descripcion']}" required="true" requiredMessage="#{msg['lbl.descripcion']} #{msg['lbl.obligatorio']}." value="#{sessionTribunal.tribunal.descripcion}">
                                    <p:ajax event="keyup" update="msmDescripcion"/>
                                    <p:ajax event="change" update="@this,:editarTribunal:msm"/>
                                    <f:validateRegex pattern="^[A-Za-záéíóúñ]{1,}([\s][A-Za-záéíóúñ]{1,})*$" />
                                </p:inputTextarea>
                                <p:message id="msmDescripcion" display="icon" for="descripcion"/>  
                                <h:outputLabel  value="#{msg['lbl.es']} #{msg['lbl.activo']}:" for="activo" />
                                <p:selectBooleanCheckbox id="activo" value="#{sessionTribunal.tribunal.esActivo}"/>
                            </h:panelGrid>

                            <br/>
                            <h:panelGrid styleClass="pnl-botones" columns="2">
                                <p:commandButton icon="ui-icon-disk" value="#{msg['lbl.grabar']}" update=":contenido:tabViewDatosProyecto:crearTribunal,:contenido:tabViewDatosProyecto:dgTribunales,msm" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarTribunales.grabar(sessionTribunal.tribunal,sessionProyecto.proyecto,sessionUsuario.usuario)}">
                                    <f:param name="1" value="grabar-dlg" />
                                </p:commandButton>
                                <p:commandButton icon="ui-icon-disk" value="#{msg['lbl.grabar']} #{msg['lbl.editar']}" update=":contenido:tabViewDatosProyecto:crearTribunal,:contenido:tabViewDatosProyecto:dgTribunales,msm" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarTribunales.grabar(sessionTribunal.tribunal,sessionProyecto.proyecto,sessionUsuario.usuario)}">
                                    <f:param name="1" value="grabar-editar-dlg" />
                                </p:commandButton>
                            </h:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>


                <!--***********************EDITAR EVALUACION******************************************+-->
                <p:dialog id="dlgEditarEvaluacionTribunal" widgetVar="dlgEditarEvaluacionTribunal" header="#{msg['lbl.editar']} #{msg['lbl.sustentacion']}" styleClass="modal-md"  modal="true" >
                    <h:form id="editarEvaluacionTribunal" >
                        <p:panel rendered="#{administrarEvaluacionesTribunal.renderedDlgEditar}">
                            <p:messages id="msm"/>
                            <p:panel rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar==false}">
                                <h:panelGrid  styleClass="panelgrid"  columns="3" rowClasses="rowpanelgrid"  columnClasses="col-sm-2,col-sm-9,col-sm-1">
                                    <h:outputLabel  value="#{msg['lbl.lugar']}:"/>
                                    <p:inputTextarea placeholder="#{msg['lbl.lugar']}" style="text-transform: none" validatorMessage="#{msg['lbl.formato_invalido']}" id="lugar" value="#{sessionEvaluacionTribunal.evaluacionTribunal.lugar}" title="#{msg['lbl.lugar']}" required="true" requiredMessage="#{msg['lbl.lugar']} #{msg['lbl.obligatorio']}.">
                                        <p:ajax event="keyup" update="msmLugar"/>
                                        <p:ajax event="change" update="@this,msm"/>
                                        <f:validateRegex pattern="^[A-Za-záéíóúñ]{1,}([\s][A-Za-záéíóúñ]{1,})*$" />
                                    </p:inputTextarea>
                                    <p:message id="msmLugar" display="icon" for="lugar"/>
                                    <h:outputLabel  value="#{msg['lbl.rango']} #{msg['lbl.calificacion']}:"/>
                                    <p:selectOneMenu id="categoriaEv" value="#{administrarEvaluacionesTribunal.rangoNota}" required="true" requiredMessage="#{msg['lbl.rango']} #{msg['lbl.calificacion']} #{msg['lbl.obligatorio']}.">
                                        <f:selectItems value="#{administrarEvaluacionesTribunal.listarRangos()}"/>
                                    </p:selectOneMenu>
                                </h:panelGrid> 
                            </p:panel>
                            <p:panel rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar}">
                                <div class="row-fluid">
                                    <div class="col-sm-8">
                                        <h:panelGrid  styleClass="panelgrid" style="background: #f4f4f4" columns="2" rowClasses="rowpanelgrid"  columnClasses="col-sm-2,col-sm-10">
                                            <p:outputLabel  value="#{msg['lbl.lugar']}:"/>
                                            <p:outputLabel  value="#{sessionEvaluacionTribunal.evaluacionTribunal.lugar}:"/>
                                            <p:outputLabel  value="#{msg['lbl.equivalencia']}:"/>
                                            <p:outputLabel  value="#{sessionEvaluacionTribunal.evaluacionTribunal.rangoEquivalenciaId.equivalenciaId.nombre}:"/>
                                        </h:panelGrid>   
                                    </div>
                                    <div class="col-sm-4">
                                        <p:panel header="#{msg['lbl.calificaciones']}" style="background: #333">
                                            <p:dataGrid  value="#{administrarCalificacionMiembro.calificacionMiembrosConsulta}"
                                                         var="cm" columns="1"  paginator="false" paginatorPosition="bottom"
                                                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
                                                         emptyMessage="#{msg['lbl.table.empty']}">
                                                <h:panelGrid style="width:100%;background: #fff" columns="2">
                                                    <p:outputLabel style="text-align:right!important;width: 100%" value="#{cm.nota}"/>
                                                </h:panelGrid>
                                            </p:dataGrid>
                                            <f:facet name="footer">
                                                <p:outputLabel style="text-align:right!important;width: 100%" value="#{sessionEvaluacionTribunal.evaluacionTribunal.nota}"/>
                                            </f:facet>
                                        </p:panel>
                                    </div>
                                </div>
                            </p:panel>
                            <br/>
                            <f:facet name="footer">                              
                                <h:panelGrid columns="4">
                                    <p:commandButton  rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar==false}"  value="#{msg['lbl.grabar']}"  update=":contenido:tabViewDatosProyecto:dgTribunales:,@form,msm" icon="ui-icon-disk" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarEvaluacionesTribunal.grabar(sessionEvaluacionTribunal.evaluacionTribunal,sessionEvaluacionTribunal.evaluacionTribunal.tribunalId,sessionProyecto.proyecto,sessionUsuario.usuario)}">
                                        <f:param name="1" value="grabar-dlg" />
                                    </p:commandButton>
                                    <p:commandButton rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.id!=null and sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar==false and administrarEvaluacionesTribunal.renderedEliminar}" value="#{msg['lbl.eliminar']}" update=":contenido:tabViewDatosProyecto:dgTribunales:schedule,msm" icon="ui-icon-trash" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide(),dlgEditarEvaluacionTribunal.hide()" action="#{administrarEvaluacionesTribunal.remover(sessionEvaluacionTribunal.evaluacionTribunal,sessionUsuario.usuario,sessionEvaluacionTribunal.evaluacionTribunal.tribunalId,sessionProyecto.proyecto)}"/>
                                    <p:commandButton icon="ui-icon-pencil" rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar and administrarEvaluacionesTribunal.renderedCalificarPrivada}" onclick="if (!confirm('#{msg['lbl_confirmar_asentar_nota']}'))
                                                return false;"  onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":contenido:tabViewDatosProyecto:dgTribunales,:contenido:msm" action="#{administrarEvaluacionesTribunal.grabar(sessionEvaluacionTribunal.evaluacionTribunal,sessionEvaluacionTribunal.evaluacionTribunal.tribunalId, sessionProyecto.proyecto, sessionUsuario.usuario)}"  value="#{msg['lbl.calificar_privada']}">
                                        <f:param name="1" value="grabar-editar-dlg"/>
                                    </p:commandButton>
                                    <p:commandButton  rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar and sessionEvaluacionTribunal.evaluacionTribunal.catalogoEvaluacionId.id==1}" onstart="PF('dlgLoading').show()"  icon="ui-icon-print" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.imprimirActaPrivada('preliminar',sessionEvaluacionTribunal.evaluacionTribunal)}" update=":actaPrivada,:dlgActaPrivada"  value="#{msg['lbl.imprimir']} #{msg['lbl.acta_preliminar']}"/>
                                    <p:commandButton  rendered="#{sessionEvaluacionTribunal.evaluacionTribunal.esAptoCalificar and sessionEvaluacionTribunal.evaluacionTribunal.catalogoEvaluacionId.id==1}" onstart="PF('dlgLoading').show()"  icon="ui-icon-print" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.imprimirActaPrivada('privada',sessionEvaluacionTribunal.evaluacionTribunal)}" update=":actaPrivada,:dlgActaPrivada"  value="#{msg['lbl.imprimir']} #{msg['lbl.acta_privada']}"/>
                                </h:panelGrid>
                            </f:facet>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <!--**********************************VIEW TRIBUNAL****************************************************-->
                <p:dialog id="dlgViewInfoTribunal" widgetVar="dlgViewInfoTribunal" header="#{msg['lbl.datos']} #{msg['lbl.tribunal']}" styleClass="modal-sm"  modal="true" >
                    <h:form id="viewEvaluacionTribunal" >
                        <p:panel  rendered="#{administrarEvaluacionesTribunal.renderedDlgEditar}"  header="#{sessionEvaluacionTribunal.evaluacionTribunal.catalogoEvaluacionId.nombre}">
                            <p:panel header="#{msg['lbl.miembros']}">
                                <p:dataTable id="tblMiembros" paginatorPosition="bottom" value="#{sessionEvaluacionTribunal.evaluacionTribunal.tribunalId.miembroList}" var="miembro" rows="5" paginator="true"
                                             rowIndexVar="rowIx" editable="true" editMode="cell" rowKey="#{miembro.docenteId.persona.numeroIdentificacion}" selection="#{miembro}" selectionMode="single"  rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">

                                    <p:column sortBy="#{miembro.docenteId.persona.apellidos}" >
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.miembro']}"/>
                                        </f:facet>
                                        <h:outputText rendered="#{miembro.esActivo}"   value="#{miembro.docenteId.persona.nombres} #{miembro.docenteId.persona.apellidos}" />
                                    </p:column>
                                    <p:column sortBy="#{miembro.docenteId.persona.numeroIdentificacion}" >
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.ci']} "/>
                                        </f:facet>
                                        <h:outputText rendered="#{miembro.esActivo}" value="#{miembro.docenteId.persona.numeroIdentificacion}"/>
                                    </p:column>
                                    <p:column sortBy="#{miembro.cargoId.nombre}" >
                                        <f:facet name="header">
                                            <h:outputText value="#{msg['lbl.cargo']}"/>
                                        </f:facet>
                                        <h:outputText rendered="#{miembro.esActivo}"  value="#{miembro.cargoId.nombre}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>
                    </h:form>
                </p:dialog>
                <!--**********************************EDITAR MIEMBRO DE TRIBUNAL****************************************************-->
                <p:dialog  widgetVar="dlgEditarMiembro"  header="#{msg['lbl.editar']} #{msg['lbl.miembro']}" styleClass="modal-sm"  modal="true" >
                    <h:form id="editarMiembroTribunal" >
                        <p:panel rendered="#{administrarMiembrosTribunal.renderedDlgEditar}">
                            <p:messages id="msm"/>
                            <p:panel toggleable="true" header="#{msg['lbl.datos']}">
                                <h:panelGrid id="datosMiembro" columns="2" rowClasses="rowpanelgrid" styleClass="panelgrid" columnClasses="col-sm-3,col-sm-8-col-sm-1">
                                    <h:inputHidden/>
                                    <p:commandButton value="#{msg['lbl.buscar']} #{msg['lbl.docentes']}" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" update=":buscarDocentesMiembrosTribunal" action="#{administrarMiembrosTribunal.abrirVistaDocentesDisponibles(sessionProyecto.proyecto,sessionMiembro.miembro.tribunalId)}"/>
                                    <h:outputLabel value="#{msg['lbl.nombres']}:"  />
                                    <h:outputText value="#{sessionMiembro.miembro.docenteId.persona.nombres}"/>
                                    <h:outputLabel value="#{msg['lbl.apellidos']}:"  />
                                    <h:outputText value="#{sessionMiembro.miembro.docenteId.persona.apellidos}"/>
                                    <h:outputLabel value="#{msg['lbl.email']}:"  />
                                    <h:outputText value="#{sessionMiembro.miembro.docenteId.persona.email}"/>
                                    <h:outputLabel  value="Cargo:"  />
                                    <p:selectOneMenu id="generoId" value="#{administrarMiembrosTribunal.cargo}" required="true" requiredMessage="The Cargo field is required.">
                                        <!-- TODO: update below reference to list of available items-->
                                        <f:selectItems value="#{administrarMiembrosTribunal.buscarCargos()}"/>
                                    </p:selectOneMenu>
                                </h:panelGrid>    
                                <f:facet name="footer">
                                    <h:panelGrid  columns="1">
                                        <p:commandButton  value="#{msg['lbl.grabar']}" update=":contenido:tabViewDatosProyecto:dgTribunales,msm" icon="ui-icon-disk" onstart="PF('dlgLoading').show();" oncomplete="PF('dlgLoading').hide()" action="#{administrarMiembrosTribunal.grabar(sessionMiembro.miembro, sessionMiembro.miembro.tribunalId,sessionProyecto.proyecto,sessionUsuario.usuario)}">
                                            <f:param name="1" value="grabar-dlg" />
                                        </p:commandButton>
                                    </h:panelGrid>
                                </f:facet>
                            </p:panel>
                        </p:panel>
                    </h:form>
                </p:dialog>

                <h:form id="buscarDocentesMiembrosTribunal" >
                    <p:dialog  widgetVar="dlgBuscarDocentesMiembrosTribunal" rendered="#{administrarMiembrosTribunal.renderedDlgDocentesDisponibles}" header="#{msg['lbl.buscar']} #{msg['lbl.docentes']}" styleClass="modal-sm"  modal="true" >
                        <p:messages id="msm"/>
                        <p:panel header="#{msg['lbl.buscar']} #{msg['lbl.por']} #{msg['lbl.criterio']}">
                            <h:panelGrid styleClass="panelgrid" rowClasses="rowpanelgrid" columnClasses="col-sm-11,col-sm-1" columns="2">
                                <p:inputText placeholder="#{msg['lbl.buscar']}" value="#{administrarMiembrosTribunal.criterioDocente}"/>
                                <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" value="#{msg['lbl.buscar']}" icon="ui-icon-search" update="tblDocentesDisponiblesM," action="#{administrarMiembrosTribunal.buscarDocentesDisponibles(administrarMiembrosTribunal.criterioDocente, sessionProyecto.proyecto,sessionTribunal.tribunal)}"/>
                            </h:panelGrid>
                        </p:panel>
                        <br/>
                        <p:panel header="#{msg['lbl.listado']} #{msg['lbl.docentes']}">
                            <p:dataTable id="tblDocentesDisponiblesM" value="#{administrarMiembrosTribunal.docentes}" var="dm" rows="5" paginator="true"
                                         rowIndexVar="rowIx" rowKey="#{dm.id}" selection="#{dm}" selectionMode="single" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" emptyMessage="#{msg['lbl.table.empty']}">

                                <p:column >
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.seleccionar']}"/>
                                    </f:facet>
                                    <p:commandButton onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" update=":editarMiembroTribunal:datosMiembro" action="#{administrarMiembrosTribunal.seleccionarDocente(sessionMiembro.miembro, dm)}" value="#{msg['lbl.seleccionar']}">
                                        <f:param name="1" value="seleccionar-dlg"/>
                                    </p:commandButton>
                                </p:column>
                                <p:column >
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.docente']}"/>
                                    </f:facet>
                                    <h:outputText value="#{dm.persona.nombres} #{dm.persona.apellidos}"/>
                                </p:column>
                                <p:column >
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['lbl.ci']}"/>
                                    </f:facet>
                                    <h:outputText value="#{dm.persona.numeroIdentificacion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                    </p:dialog>
                </h:form>
                <!--***Dialogo Acta Privada**-->
                <p:dialog id="dlgActaPrivada" widgetVar="dlgActaPrivada" header="#{msg['lbl.acta_privada']}" styleClass="modal-md"  modal="true" >
                    <h:form id="actaPrivada" >
                        <p:panel rendered="#{administrarActas.renderedDlgActaPrivada}">
                            <p:media value="/AppServlet?id=#{administrarActas.evaluacionId}&amp;entity=actaPrivada&amp;lenguaje=#{administrarActas.lenguaje}&amp;carreraId=#{administrarActas.carreraId}&amp;tipoActa=#{administrarActas.tipoActaEnPrivada}" player="pdf" width="100%" height="400"/>
                        </p:panel>
                        <br/>
                        <h:panelGrid styleClass="pnl-botones" columns="1">
                            <p:commandButton icon="ui-icon-odt" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.generarActaPrivada(administrarActas.tipoActaEnPrivada,'docx', null, null,administrarActas.lenguaje,null,null)}" ajax="false" value="#{msg['lbl.descargar']}"/>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
                <!--Dialogo de Acta de Grado-->
                <p:dialog id="dlgActaGrado" widgetVar="dlgActaGrado" header="#{msg['lbl.acta_publica']}" styleClass="modal-md"  modal="true" >
                    <h:form id="actaGrado" >
                        <p:panel rendered="#{administrarActas. renderedDlgActaGrado}">
                            <p:media value="/AppServlet?id=#{administrarActas.evaluacionId}&amp;entity=actaGrado&amp;lenguaje=#{administrarActas.lenguaje}&amp;carreraId=#{administrarActas.carreraId}&amp;autorId=#{administrarActas.autorId}&amp;usuarioId=#{sessionUsuario.usuario.id}" player="pdf" width="100%" height="400"/>
                        </p:panel>
                        <br/>
                        <h:panelGrid styleClass="pnl-botones" columns="1">
                            <p:commandButton icon="ui-icon-odt" onstart="PF('dlgLoading').show()" oncomplete="PF('dlgLoading').hide()" action="#{administrarActas.generarActaPrivada(administrarActas.tipoActaEnPrivada,'docx', null, null,administrarActas.lenguaje,null,null)}" ajax="false" value="#{msg['lbl.descargar']}"/>
                        </h:panelGrid>
                    </h:form>
                </p:dialog>
            </ui:define>
            <ui:define name="data">
                <p:dialog id="dlgSubirOficio" header="#{msg['lbl.subir']}" widgetVar="dlgSubirOficio" modal="true">
                    <h:panelGrid columns="1" >
                        <p:fileUpload multiple="false" fileUploadListener="#{administrarOficiosCarrera.handleFileUpload}"  
                                      update=":contenido:msm,:oficioDocenteProyecto,:dlgOficioDocenteProyecto"  mode="advanced"  
                                      allowTypes="/(\.|\/)(pdf)$/" sizeLimit="#{administrarConfiguraciones.tamanioPermitidoArchivos}" invalidFileMessage="#{msg['lbl.invalidTypeFileMessage']}"
                                      invalidSizeMessage="#{msg['lbl.fileLimitMessage']}"
                                      cancelLabel="#{msg['lbl.cancelar']}"  label="#{msg['lbl.seleccionar']}" uploadLabel="#{msg['lbl.subir']}" >
                        </p:fileUpload>
                    </h:panelGrid>
                </p:dialog>
            </ui:define>
        </ui:composition>
    </body>
</html>
